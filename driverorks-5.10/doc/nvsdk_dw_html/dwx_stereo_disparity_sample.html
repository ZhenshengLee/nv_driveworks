<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: Stereo Disparity Sample</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dwx_stereo_disparity_sample.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Stereo Disparity Sample </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dwx_stereo_disparity_description">Description</a></li>
<li class="level1"><a href="#dwx_stereo_disparity_running">Running the Sample</a></li>
<li class="level1"><a href="#dwx_stereo_disparity_output">Output</a></li>
<li class="level1"><a href="#dwx_stereo_disparity_more">Additional information</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="dwx_stereo_disparity_description"></a>
Description</h1>
<p >The Stereo Disparity sample demonstrates the stereo pipeline.</p>
<p >The sample reads frames from two stereo videos and rectifies them on the basis of the camera calibration contained in the rig configuration file. Then, it runs the frames through the stereo pipeline and displays a confidence map and final stereo output.</p>
<h1><a class="anchor" id="dwx_stereo_disparity_running"></a>
Running the Sample</h1>
<p >The command line for the sample is: </p><pre class="fragment">./sample_stereo_disparity --rigconfig=[path/to/rig/configuration/file]
                          --video-left=[path/to/the/left/video]
                          --video-right=[path/to/the/right/video]
                          --sensor-left=[name/of/left/camera/in/rig/file]
                          --sensor-right=[name/of/right/camera/in/rig/file]
                          --level=[0|1|2|3]
                          --single_side=[0|1]
                          --maxDisparity=[maximum/disparity/for/stereo/match]
                          --maxDistance=[maximum/distance/in/meters/for/depth/rendering]
</pre><p> where </p><pre class="fragment">--rigconfig=[path/to/rig/configuration/file]
    Points to the rig file that contains the intrinsics and extrinsics for the stereo camera.
    Default value: path/to/data/samples/stereo/full.json

--video-left=[path/to/the/left/video]
    Is the path to the video recorded from the left camera.
    Default value: path/to/data/samples/stereo/left_1.h264

--sensor-left=[name/of/left/camera/in/rig/file]
    Is the name of the left input sensor in the rig file.
    Defaul value: left_60FOV

--sensor-right=[name/of/right/camera/in/rig/file]
    Is the name of the right input sensor in the rig file.
    Defaul value: right_60FOV

--video-right=[path/to/the/right/video]
    Is the path to the video recorded from the right camera.
    Default value: path/to/data/samples/stereo/right_1.h264

--level=[0|1|2|3]
    Defines the pyramid level to display the disparity, depends on the number of levels.
    Default value: 1

--single_side=[0|1]
    If `--single_side` is 0, the sample computes left and right stereo images
    and performs complete stereo pipeline. Otherwise, it computes only the left
    image and approximates occlusions by thresholding the confidence map.
    Default value: 0

--maxDisparity=[maximum/disparity/for/stereo/match]
    Maximum disparity value for stereo matching between left and right camera.
    Default value: 128

--maxDistance=[maximum/distance/in/meters/for/depth/rendering]
    Maximum distance in meters for depth rendering.
    Every pixel with a depth greater than maxDistance is rendered as blue
    Default value: 40.0
</pre><p> It is possible to use keyboard input to change parameters at runtime: </p><pre class="fragment">0-6: changes the level of refinement (0 no refinement)
O  : toggles occlusions
K  : infills occlusions (only if on)
+,-: changes invalidy threshold (appears as white pixels)
I  : toggle horizontal infill of invalidity pixels
L  : switch between disparity view and rectification view
</pre><p> It is possible to left click on the disparity images to obtain the correspoding point depth value.</p>
<h1><a class="anchor" id="dwx_stereo_disparity_output"></a>
Output</h1>
<p >The sample creates a window and displays the disparity view composed by:</p>
<ul>
<li>Top: Anaglyph of left and right image</li>
<li>Bottom: Stereo images</li>
</ul>
<p >The stereo output is color coded for clarity and some pixels are masked if they are occluded or invalid.</p>
<div class="image">
<img src="sample_stereo_disparity.png" alt=""/>
<div class="caption">
stereo disparity</div></div>
    <p >By pressing <code>L</code> the view switches the rectification view composed by:</p><ul>
<li>Top: Input left and right image with parallel red line showing that epipolar lines are not parallel.</li>
<li>Bottom: Rectified images.</li>
</ul>
<div class="image">
<img src="sample_stereo_rectifier.png" alt=""/>
<div class="caption">
Unrectified and rectified images</div></div>
    <h1><a class="anchor" id="dwx_stereo_disparity_more"></a>
Additional information</h1>
<p >For more details see <a class="el" href="stereo_mainsection.html">Stereo</a> . </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
