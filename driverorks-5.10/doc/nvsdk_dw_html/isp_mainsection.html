<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: Image Signal Processing (ISP)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('isp_mainsection.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Image Signal Processing (ISP) </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#isp_mainsection_intro">Introduction</a></li>
<li class="level1"><a href="#isp_mainsection_assumptions">Assumptions</a></li>
<li class="level1"><a href="#isp_mainsection_pipeline">ISP Pipeline</a><ul><li class="level2"><a href="#isp_mainsection_pipeline_hw">Hardware ISP for HV Use Cases</a></li>
<li class="level2"><a href="#isp_mainsection_pipeline_sw">Software ISP for MV Use Cases</a></li>
</ul>
</li>
<li class="level1"><a href="#softisp">SoftISP Module Overview</a><ul><li class="level2"><a href="#softisp_bayer">Bayer</a></li>
<li class="level2"><a href="#softisp_demosaic">Demosaic</a></li>
<li class="level2"><a href="#softisp_tonemap">Tone Map</a></li>
</ul>
</li>
<li class="level1"><a href="#softisp_behavior">SoftISP Behavior</a></li>
<li class="level1"><a href="#isp_mainsection_faqs">FAQS</a></li>
<li class="level1"><a href="#softisp_usecases">Relevant Tutorials</a></li>
<li class="level1"><a href="#softisp_APIs">SoftISP APIs</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="isp_mainsection_intro"></a>
Introduction</h1>
<p >The NVIDIA<sup>&reg;</sup> DriveWorks Image Signal Processing (ISP) Pipeline processes raw images acquired from GMSL cameras and outputs images that can be used for human vision (HV) or machine vision (MV) applications. Refer to Figure 1 for the DriveWorks ISP Pipeline for common use cases.</p>
<div class="image">
<img src="dw_isp_pipeline.png" alt=""/>
<div class="caption">
Figure 1: DriveWorks ISP Pipeline</div></div>
    <p >The ISP is a hardware component on the DRIVE platform whose interface resides in the lower level NvMedia API (Image Processing Pipeline - IPP) used by the camera sensor (see <a class="el" href="camera_mainsection.html">Camera</a>). This HW ISP is automatically triggered by the camera sensor (gmsl) when a processed image is requested by the user. The output is suitable for HV applications. As it currently stands, the user has no control over this HW ISP component, besides the creation of it by means of camera parameters (see <a class="el" href="dwx_camera_sample.html">Camera Sample</a>). If no processed output is requested, then the HW ISP component will not be activated and the camera sensor would output non-processed raw images (see <a class="el" href="camera_mainsection.html">Camera</a> for the details about output formats).</p>
<p >For MV vision applications, a more flexible Software ISP component exists, which operates in a different and independent way of the camera sensor. In order to be able to use this component, a RAW image must be acquired by the camera sensor (HW ISP off) or read from a video source (For information on recording and replaying, see: <a class="el" href="dwx_recording_tools.html">Recording Tools</a> and <a class="el" href="dwx_recording_devguide_group.html">Recording Sensor Data</a>) and given to the SoftISP. The processed image output depends on the setup of the SoftISP and its use cases include deep learning inference.</p>
<p >Recording using the DriveWorks Recording Tools is available for both of the HW and Soft ISP paths; however, the format of the stored images and subsequent usage is dependent on the path. Images produced through HW ISP can be recorded in .h264 or .h265 format; playback of these recorded images is suitable for HV use cases only. In the Soft ISP path, RAW (or LRAW) images can be captured prior to entering Soft ISP processing. During playback of RAW images, DriveWorks provides the capability to perform Soft ISP processing on these stored images so that they can been used in downstream MV algorithms.</p>
<div class="image">
<img src="dw_isp_record.png" alt=""/>
<div class="caption">
Figure 2: Playback</div></div>
    <h1><a class="anchor" id="isp_mainsection_assumptions"></a>
Assumptions</h1>
<p >The SoftISP is optimized for specific modules of ar0231 Sekonix cameras, where the supported module is dependent on the NVIDIA DRIVE platform. These cameras output RAW images with Bayer patterns of RCCB/RCCC. The pipeline also assumes Bracketed Auto Exposure (BAE) control. For more information, see <a class="el" href="camera_mainsection.html">Camera</a>.</p>
<p >SoftISP is available for the following sensors on NVIDIA DRIVE<sup>&trade;</sup> AGX Developer Kit:</p>
<ul>
<li>ar0231-rccb-bae-sf3325, Sekonix rev 7</li>
<li>ar0231-rccb-bae-sf3324, Sekonix rev 7</li>
</ul>
<p >There is limited capability with CCCC for ar0144 cameras.</p>
<h1><a class="anchor" id="isp_mainsection_pipeline"></a>
ISP Pipeline</h1>
<div class="image">
<img src="nvmedia_AR0231_isp.png" alt=""/>
<div class="caption">
Figure 3: NvMedia AR0231 Processing</div></div>
    <h2><a class="anchor" id="isp_mainsection_pipeline_hw"></a>
Hardware ISP for HV Use Cases</h2>
<p >The NvMedia ISP component processes Bayer images to YUV formatted images using Xavier-configurable ISP hardware (HW ISP). Refer to the "Image Processing and Management" section in the <em>NVIDIA DRIVE OS 5.1 Linux Development Guide</em> for more information.</p>
<h2><a class="anchor" id="isp_mainsection_pipeline_sw"></a>
Software ISP for MV Use Cases</h2>
<p >The DriveWorks SoftISP module processes RAW12 RCCB images into images that are compatible with subsequent DriveWorks MV applications, such as DriveNet. Unlike the NvMedia IPP framework, DriveWorks ISP processing is not done in the ISP hardware, but in software (Soft ISP). The DriveWorks Soft ISP flow is depicted in Figure 4.</p>
<div class="image">
<img src="dw_soft_isp.png" alt=""/>
<div class="caption">
Figure 4: DriveWorks Soft ISP</div></div>
    <h1><a class="anchor" id="softisp"></a>
SoftISP Module Overview</h1>
<p >The SoftISP module functions as a pipeline with multiple outcomes and outputs, depending on configuration. The input is a raw image from camera or from raw/lraw video and the input parameters are the size of the input image, the camera raw format, and the tone map type. The output is one, two, or all three of the following images:</p><ul>
<li>Bayer</li>
<li>Demosaic</li>
<li>Tone Map</li>
</ul>
<h2><a class="anchor" id="softisp_bayer"></a>
Bayer</h2>
<p >The Bayer output is enabled only if the following conditions are satisfied:</p><ul>
<li>The requested output type, <a class="el" href="group__soft__ISP.html#ga3c373db621330f67e20f447ff0e09cf8">dwSoftISPProcessType</a> enum, is <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a4520f929157f7da4934a4d19f9502e4f" title="Compute Bayer.">DW_SOFTISP_PROCESS_TYPE_BAYER</a></code></li>
<li>The <a class="el" href="group__soft__ISP.html#gafdd28c991aba2dd9e41c0f633e879378">dwSoftISPDenoiseMethod</a> enum is set to <code><a class="el" href="group__soft__ISP.html#ggafdd28c991aba2dd9e41c0f633e879378ac644272a7710480f10bbed66c7b8a705" title="Bilateral denoising.">DW_SOFTISP_DENOISE_METHOD_BILATERAL</a></code>.</li>
<li>The User has allocated a Bayer output image with the properties from <a class="el" href="group__soft__ISP.html#gafee83216fee9412cd53fa310d63ef689" title="Gets the image properties for the produced Bayer images.">dwSoftISP_getBayerImageProperties()</a> and bound with <a class="el" href="group__soft__ISP.html#ga2f976f7546d1cf6275fc858493c930b6" title="Binds a Bayer image to the softISP.">dwSoftISP_bindOutputBayer()</a>.</li>
</ul>
<p >In this case, the module decompands the raw input and applies a bilateral filter. It then stores the result in the bound image.</p>
<h2><a class="anchor" id="softisp_demosaic"></a>
Demosaic</h2>
<p >The demosaic output is enabled if the following conditions are satisfied:</p><ul>
<li>The requested output type, <a class="el" href="group__soft__ISP.html#ga3c373db621330f67e20f447ff0e09cf8">dwSoftISPProcessType</a> enum, is <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a6ead3a5567675b56204af951a2ef136c" title="Compute demosaic.">DW_SOFTISP_PROCESS_TYPE_DEMOSAIC</a></code></li>
<li>The User has allocated an image with the properties from <a class="el" href="group__soft__ISP.html#ga4381160edd18ccf8c5011c1692ad42a9" title="Gets the image properties for the produced demosaiced images.">dwSoftISP_getDemosaicImageProperties()</a> and bound with <a class="el" href="group__soft__ISP.html#gad795049fd36092c99366bb2a1ab6df4e" title="Binds a demosaic image to the softISP.">dwSoftISP_bindOutputDemosaic()</a>.</li>
</ul>
<p >In this case, the bound image will contain a demosaiced non-raw, RCB/RCC float16 image.</p>
<h2><a class="anchor" id="softisp_tonemap"></a>
Tone Map</h2>
<p >The tone-mapped output is enabled if the following conditions are satisifed:</p><ul>
<li>The requested output type, <a class="el" href="group__soft__ISP.html#ga3c373db621330f67e20f447ff0e09cf8">dwSoftISPProcessType</a> enum, is <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a54d7ff3f15abef12f514c856ede80c39" title="Compute tone map.">DW_SOFTISP_PROCESS_TYPE_TONEMAP</a></code></li>
<li>The User has allocated an image using the properties of the demosaiced image, with the exception of the format, which can be RGB/RGBA, uint8, or float16.<ul>
<li>A demosaic image must be allocated and bound even if the requested output is not demosaic (see table below).</li>
</ul>
</li>
<li>The SoftISP has been created with a <code>dwTonemapType</code> set in the parameters using <a class="el" href="group__soft__ISP.html#ga1348dc4d64763ba55c83b7dbac7e624b" title="Sets the tonemap type.">dwSoftISP_setTonemapType()</a>.</li>
</ul>
<h1><a class="anchor" id="softisp_behavior"></a>
SoftISP Behavior</h1>
<p >The following table specifies the behavior and characteristics of the SoftISP.</p>
<p >The Pipeline Behavior column describes the expected processing behavior given the configuration. The "state" of the ISP depends solely on what images are bound and the parameters given, so no memory is implicitly stored. For this reason we show special behaviors that might be less intuitive. Failure cases are also included for completeness. The different behaviors are shown for informative purposes, we advise the user to always go for the most efficient path.</p>
<p >Keywords:</p>
<ul>
<li>Output : The output image types, based on <a class="el" href="group__soft__ISP.html#ga3c373db621330f67e20f447ff0e09cf8">dwSoftISPProcessType</a>. For convenience, the the values used in this column are given by:<ul>
<li>bayer = <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a4520f929157f7da4934a4d19f9502e4f" title="Compute Bayer.">DW_SOFTISP_PROCESS_TYPE_BAYER</a></code>, note that when this output is requested, a valid denoise method must be set</li>
<li>demosiac = <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a6ead3a5567675b56204af951a2ef136c" title="Compute demosaic.">DW_SOFTISP_PROCESS_TYPE_DEMOSAIC</a></code></li>
<li>tonemap = <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a54d7ff3f15abef12f514c856ede80c39" title="Compute tone map.">DW_SOFTISP_PROCESS_TYPE_TONEMAP</a></code></li>
<li>Note that there can be 1, 2, or 3 output images, depending on configuration.</li>
</ul>
</li>
<li>bound : the image X corresponding to Bayer, Demosaic or Tonemap has been bound to the SoftISP through dwSoftISP_bindOutputX</li>
<li>unbound : the image X corresponding to Bayer, Demosaic or Tonemap has not been bound (default or by binding a nullptr)</li>
<li>any : any state, won't influence the behavior</li>
<li>-&gt; : the processing steps are sequential</li>
<li>&amp; : the processing steps are performed in one pass</li>
<li>Input :<ul>
<li>raw : raw image bound by <a class="el" href="group__soft__ISP.html#ga4b3549be99b631a5118b70623c078b86" title="Binds the input image to the softISP.">dwSoftISP_bindInputRaw()</a></li>
<li>bayer : The bayer image currently bound by <a class="el" href="group__soft__ISP.html#ga2f976f7546d1cf6275fc858493c930b6" title="Binds a Bayer image to the softISP.">dwSoftISP_bindOutputBayer()</a> will be used as input instead of the raw image.</li>
</ul>
</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Output   </th><th class="markdownTableHeadCenter">Bayer   </th><th class="markdownTableHeadCenter">Demosaic   </th><th class="markdownTableHeadCenter">Tonemap   </th><th class="markdownTableHeadCenter"><a class="el" href="group__soft__ISP.html#gafdd28c991aba2dd9e41c0f633e879378">dwSoftISPDenoiseMethod</a>   </th><th class="markdownTableHeadCenter">Input   </th><th class="markdownTableHeadCenter">Pipeline Behavior   </th><th class="markdownTableHeadCenter">Comment    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bayer   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter"><code><a class="el" href="group__soft__ISP.html#ggafdd28c991aba2dd9e41c0f633e879378ac644272a7710480f10bbed66c7b8a705" title="Bilateral denoising.">DW_SOFTISP_DENOISE_METHOD_BILATERAL</a></code>   </td><td class="markdownTableBodyCenter">raw   </td><td class="markdownTableBodyCenter">debayering   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bayer+demosaic   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter"><code><a class="el" href="group__soft__ISP.html#ggafdd28c991aba2dd9e41c0f633e879378ac644272a7710480f10bbed66c7b8a705" title="Bilateral denoising.">DW_SOFTISP_DENOISE_METHOD_BILATERAL</a></code>   </td><td class="markdownTableBodyCenter">raw   </td><td class="markdownTableBodyCenter">debayering&amp;demosaicing   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">demosaic   </td><td class="markdownTableBodyCenter">unbound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">raw   </td><td class="markdownTableBodyCenter">demosaicing   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">demosaic   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">bayer   </td><td class="markdownTableBodyCenter">demosaicing   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">demosaic+tonemap   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">raw   </td><td class="markdownTableBodyCenter">demosaicing-&gt;tonemapping   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">demosaic+tonemap   </td><td class="markdownTableBodyCenter">unbound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">bayer   </td><td class="markdownTableBodyCenter">demosaicing-&gt;tonemapping   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bayer+demosaic+tonemap   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter"><code><a class="el" href="group__soft__ISP.html#ggafdd28c991aba2dd9e41c0f633e879378ac644272a7710480f10bbed66c7b8a705" title="Bilateral denoising.">DW_SOFTISP_DENOISE_METHOD_BILATERAL</a></code>   </td><td class="markdownTableBodyCenter">raw   </td><td class="markdownTableBodyCenter">debayering&amp;demosaicing-&gt;tonemapping   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bayer+tonemap   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">FAIL   </td><td class="markdownTableBodyCenter">demosaic must be requested as output when tonemap is requested    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">tonemap   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">unbound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">FAIL   </td><td class="markdownTableBodyCenter">demosaic must be also bound when tonemap is requested    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">tonemap   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">bound   </td><td class="markdownTableBodyCenter">any   </td><td class="markdownTableBodyCenter">demosaic   </td><td class="markdownTableBodyCenter">demosaicing-&gt;tonemaping   </td><td class="markdownTableBodyCenter"></td></tr>
</table>
<p >Any deviation from the above table, will result in either failure or undefined behavior.</p>
<h3>Example #1</h3>
<p >| bayer+demosaic | bound | bound | any |<a class="el" href="group__soft__ISP.html#ggafdd28c991aba2dd9e41c0f633e879378ac644272a7710480f10bbed66c7b8a705" title="Bilateral denoising.">DW_SOFTISP_DENOISE_METHOD_BILATERAL</a>| raw | debayer&amp;demosaic |</p>
<p >Interpretation: You have set <a class="el" href="group__soft__ISP.html#ga3c373db621330f67e20f447ff0e09cf8">dwSoftISPProcessType</a> to <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a4520f929157f7da4934a4d19f9502e4f" title="Compute Bayer.">DW_SOFTISP_PROCESS_TYPE_BAYER</a></code> | <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a6ead3a5567675b56204af951a2ef136c" title="Compute demosaic.">DW_SOFTISP_PROCESS_TYPE_DEMOSAIC</a></code>, you have called <a class="el" href="group__soft__ISP.html#ga2f976f7546d1cf6275fc858493c930b6" title="Binds a Bayer image to the softISP.">dwSoftISP_bindOutputBayer()</a>, <a class="el" href="group__soft__ISP.html#gad795049fd36092c99366bb2a1ab6df4e" title="Binds a demosaic image to the softISP.">dwSoftISP_bindOutputDemosaic()</a>, and optionally <a class="el" href="group__soft__ISP.html#ga499751abb07a0bf063119bc619c9d5e0" title="Binds a tone-mapped image to the softISP.">dwSoftISP_bindOutputTonemap()</a>. The resultant pipeline will take the raw input and perform bayer and demosaicing together and output a Bayer image and a Demosaiced image.</p>
<h3>Example #2</h3>
<p >| demosaic | bound | bound | any |any | bayer | demosaic |</p>
<p >Interpretation: You have set <a class="el" href="group__soft__ISP.html#ga3c373db621330f67e20f447ff0e09cf8">dwSoftISPProcessType</a> to <code><a class="el" href="group__soft__ISP.html#gga3c373db621330f67e20f447ff0e09cf8a6ead3a5567675b56204af951a2ef136c" title="Compute demosaic.">DW_SOFTISP_PROCESS_TYPE_DEMOSAIC</a></code>, you have called <a class="el" href="group__soft__ISP.html#ga2f976f7546d1cf6275fc858493c930b6" title="Binds a Bayer image to the softISP.">dwSoftISP_bindOutputBayer()</a>, <a class="el" href="group__soft__ISP.html#gad795049fd36092c99366bb2a1ab6df4e" title="Binds a demosaic image to the softISP.">dwSoftISP_bindOutputDemosaic()</a>, and optionally <a class="el" href="group__soft__ISP.html#ga499751abb07a0bf063119bc619c9d5e0" title="Binds a tone-mapped image to the softISP.">dwSoftISP_bindOutputTonemap()</a>. The resultant pipeline will take Bayer input and output a demosaiced image.</p>
<p >The following table shows outputs based on Pipeline Behavior of the bayer and demosaic steps. (DW_IMAGE_FORMAT is omitted). Please see the above description for Pipeline Behavior.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Pipeline Behavior   </th><th class="markdownTableHeadCenter">Demosaic ROI   </th><th class="markdownTableHeadCenter"><a class="el" href="group__soft__ISP.html#gaebafefa5330cac7abde176f685617749">dwSoftISPDemosaicMethod</a>   </th><th class="markdownTableHeadCenter">Input   </th><th class="markdownTableHeadCenter">Bayer Output   </th><th class="markdownTableHeadCenter">Demosaic Output   </th><th class="markdownTableHeadCenter">Comment    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">raw-&gt;demosaic   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, W/2xH/2   </td><td class="markdownTableBodyCenter">Optimized path (Fused Kernel)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">raw-&gt;demosaic   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, CW/2xCH/2   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">raw-&gt;demosaic   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">raw-&gt;demosaic   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, CWxCH   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">raw-&gt;bayer   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">raw-&gt;bayer   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">raw-&gt;bayer   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">raw-&gt;bayer   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bayer-&gt;demosaic   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, W/2xH/2   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bayer-&gt;demosaic   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, CW/2xCH/2   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bayer-&gt;demosaic   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bayer-&gt;demosaic   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">n.a.   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, CWxCH   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">raw-&gt;bayer&amp;demosaic   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, W/2xH/2   </td><td class="markdownTableBodyCenter">Optimized path (Fused Kernel)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">raw-&gt;bayer&amp;demosaic   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_DOWNSAMPLE   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, CW/2xCH/2   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">raw-&gt;bayer&amp;demosaic   </td><td class="markdownTableBodyCenter">Full Image (WxH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">raw-&gt;bayer&amp;demosaic   </td><td class="markdownTableBodyCenter">Subregion (CWxCH)   </td><td class="markdownTableBodyCenter">DEMOSAIC_INTERPOLATION   </td><td class="markdownTableBodyCenter">RAW_UINT16, WxH   </td><td class="markdownTableBodyCenter">RAW_FLOAT16, WxH   </td><td class="markdownTableBodyCenter">RCB_FLOAT16, CWxCH   </td><td class="markdownTableBodyCenter">-   </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>If the starting image format in the Pipeline Behavior section is not raw, then the module assumes that the input is a valid bound image.</dd>
<dd>
For ar0144 cameras, the output can only be TONEMAP RGB/RGBA uint8.</dd></dl>
<h1><a class="anchor" id="isp_mainsection_faqs"></a>
FAQS</h1>
<p >Refer to <a class="el" href="dwx_faq.html">Frequently Asked Questions</a></p>
<h1><a class="anchor" id="softisp_usecases"></a>
Relevant Tutorials</h1>
<ul>
<li><a class="el" href="isp_usecase1.html">Software ISP Workflow</a></li>
</ul>
<h1><a class="anchor" id="softisp_APIs"></a>
SoftISP APIs</h1>
<ul>
<li><a class="el" href="group__soft__ISP.html">Software ISP Interface</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
