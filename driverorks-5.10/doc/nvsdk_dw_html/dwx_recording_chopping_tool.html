<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: Recording Chopping Tool</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dwx_recording_chopping_tool.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Recording Chopping Tool </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This tool is available on the x86 Host System and NVIDIA DRIVE<sup>&trade;</sup> OS Linux.</p>
<p >A tool for clipping recorded data. Allows to cut information from input recordings based on given timestamp or event range.</p>
<h1>Usage</h1>
<pre class="fragment">./chop  [--config=path_to_json_config_file]
        [--camera=path_to_camera_data]
        [--camera-out=output_path]
        [--timestamp_file=path_to_file_containing_timestamps]
        [--gps=path_to_gps_data]
        [--gps-out=output_path]
        [--imu=path_to_imu_data]
        [--imu-out=output_path]
        [--can=path_to_can_data]
        [--can-out=output_path]
        [--lidar=path_to_lidar_data]
        [--lidar-out=output_path]
        [--radar=path_to_radar_data]
        [--radar-out=output_path]
        [--ultrasonic=path_to_ultrasonic_data]
        [--ultrasonic-out=output_path]
        [--data=path_to_data_sensor]
        [--data-out=output_path]
        [--time=path_to_time_sensor]
        [--time-out=output_path]
        [--input-session=path1,path2,path3 or path/*]
        [--output-session=/path]
        [--useInputSessionDirName=true/false]
        [--result-file=/path/result.json]
        [--timestamp_start=start_timestamp_value]
        [--timestamp_end=end_timestamp_value]
        [--event_start=start_event_index]
        [--event_end=end_event_index]
        [--num_events=number_of_events_to_capture]
        [--force-create-seek]
        [--force-create-seek-regex]
        [--disable-output-verification]
        [--ignore-missing-timestamp]
        [--disable-cuda]
</pre> <h1>Examples</h1>
<pre class="fragment">./chop --camera=/path_to_video --timestamp_file=/path_to_existing_timestamp_file --num_events=20
Capture the first 20 frames from provided video. Cut associated timestamp file.


./chop --camera=/path_to_video.h264 --ignore-missing-timestamp --num_events=20 --disable-cuda
Capture the first 20 frames from provided video. Force cut of the video file only and ignore missing timestamp file without cuda environment.

./chop --camera=/path_to_video.h264 --ignore-missing-timestamp --num_events=20
Capture the first 20 frames from provided video. Force cut of the video file only and ignore missing timestamp file.

./chop --lidar=/lidar_file --radar=/radar_file --timestamp_start=1506453354917264
Cut all lidar and radar packets starting timestamp 1506453354917264 to the end of the stream.

./chop --can=/can_file --timestamp_start=1506453354917264 --num_events=50
Chop 50 can messages starting from timestamp 1506453354917264.

./chop --imu=/imu_file --event_start=10 --event_end=11
Capture events 10 and 11.

./chop --imu=/imu_file --event_start=10 --event_end=11 --num_events=20
Capture 20 events from event 10. --event_end argument is ignored.

./chop --config=/path_to_config_file
Chop recordings listed in provided config file, or create template config if specified file does not exist.

./chop --input-session=/mnt/SSD1,/mntSSD2 --output-session=/mnt/CHOP --timestamp_start=1506453354917264 --timestamp_end=1506453355017264 --generate-result=/mnt/CHOP/chopping_result.json --force-create-seek-regex=.*xsens.*
Chop a session to produce another session with a new UUID and generate a json file with a summary of the chopping result.
</pre> <h1>Configuration file</h1>
<p >Template configuration file looks like:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;version&quot;: &quot;0.1&quot;,</div>
<div class="line">    &quot;timestamp_start&quot;: 0,</div>
<div class="line">    &quot;timestamp_end&quot;: 0,</div>
<div class="line">    &quot;event_start&quot;: 0,</div>
<div class="line">    &quot;event_end&quot;: 0,</div>
<div class="line">    &quot;num_events&quot;: 0,</div>
<div class="line"> </div>
<div class="line">    &quot;camera&quot; : [</div>
<div class="line">          {</div>
<div class="line">              &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">              &quot;output_file&quot;: &quot;&quot;,</div>
<div class="line">              &quot;timestamp_file&quot;: &quot;&quot;</div>
<div class="line">          }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;can&quot; : [</div>
<div class="line">          {</div>
<div class="line">              &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">              &quot;output_file&quot;: &quot;&quot;</div>
<div class="line">          }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;gps&quot; : [</div>
<div class="line">         {</div>
<div class="line">             &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">             &quot;output_file&quot;: &quot;&quot;</div>
<div class="line">         }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;imu&quot; : [</div>
<div class="line">         {</div>
<div class="line">             &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">             &quot;output_file&quot;: &quot;&quot;</div>
<div class="line">         }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;lidar&quot; : [</div>
<div class="line">         {</div>
<div class="line">             &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">             &quot;output_file&quot;: &quot;&quot;</div>
<div class="line">         }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;radar&quot; : [</div>
<div class="line">         {</div>
<div class="line">             &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">             &quot;output_file&quot;: &quot;&quot;</div>
<div class="line">         }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;ultrasonic&quot; : [</div>
<div class="line">         {</div>
<div class="line">             &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">             &quot;output_file&quot;: &quot;&quot;</div>
<div class="line">         }</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">    &quot;data&quot; : [</div>
<div class="line">         {</div>
<div class="line">             &quot;input_file&quot;: &quot;&quot;,</div>
<div class="line">             &quot;output_file&quot;: &quot;&quot;</div>
<div class="line">         }</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p >Parameters provided in configuration file are always primary with respect to those specified in command line. That means if the range specified in both command line and configuration file the latter are chosen even if they incorrect or zero. Thus if you want to use first variant then completely remove corresponding sections from json config.</p>
<h1>Limitations</h1>
<ul>
<li>For H264/H265/mp4 videos the interval is adjusted to start from the previous IDR frame and end at the next IDR frame.</li>
<li>Chopping H264/H265 videos requires AUD units</li>
<li>NMEA ASCII gps recordings are no longer supported </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
