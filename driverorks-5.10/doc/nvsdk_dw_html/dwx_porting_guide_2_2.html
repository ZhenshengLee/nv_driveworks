<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: Porting Guide from SDK 2.0 to SDK 2.2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dwx_porting_guide_2_2.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Porting Guide from SDK 2.0 to SDK 2.2 </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#pg2_maps">Maps</a></li>
<li class="level1"><a href="#pg_laneplanner">Lane Planner</a></li>
<li class="level1"><a href="#pg_ipc">IPC</a></li>
<li class="level1"><a href="#pg_calibration_2_2">Calibration</a></li>
<li class="level1"><a href="#pg_egomotion_2_2">Egomotion</a></li>
<li class="level1"><a href="#pg_mapnet_2_2">dwMapNet</a></li>
<li class="level1"><a href="#pg_landmark_perception_2_2">LandmarkPerception</a></li>
<li class="level1"><a href="#pg_freespaceperception_2_2">Freespace Perception</a></li>
<li class="level1"><a href="#pg_pointcloudprocessing_2_2">Point Cloud Processing</a></li>
<li class="level1"><a href="#pg_lidaraccumulator_2_2">Lidar Accumulator</a></li>
<li class="level1"><a href="#pg_softisp_2_2">SoftISP</a></li>
<li class="level1"><a href="#pg_blindnessdetector_2_2">BlindnessDetector</a></li>
<li class="level1"><a href="#pg_sensors_2_2">dwSensorSeekTable</a></li>
<li class="level1"><a href="#pg_objects_2_2">Objects</a></li>
<li class="level1"><a href="#pg_drivenet_2_2">dwDriveNet</a></li>
<li class="level1"><a href="#pg_objectdetector_2_2">dwObjectDetector</a></li>
<li class="level1"><a href="#pg_vehicleio_2_2">Vehicle IO</a></li>
<li class="level1"><a href="#pg_waitconditions_2_2">dwWaitConditions</a></li>
<li class="level1"><a href="#pg_dwCANMessage_2_2">dwCANMessage</a></li>
</ul>
</div>
<div class="textblock"><p >This document will help you port your applications from DriveWorks SDK 2.0 to DriveWorks SDK 2.2.</p>
<hr  />
<h1><a class="anchor" id="pg2_maps"></a>
Maps</h1>
<p >Geometry in the dwMaps module is now represented in local coordinates, rather than WGS84. The absGeometry in dwMapsLane, dwMapsLaneDivider and dwMapsFeature will be removed. The local coordinate system is defined by ENU space with origin at dwMapsRoadSegment::origin. </p>
<p >Depending on the HD Map source, the origin in the road segment might not be precise. However the the relative transformations dwMapsRoadSegmentConnection::connectedToLocal are always precise, such that the connected segments fit nicely together where they physically connect.</p>
<p ><code>dwMapsRoadSegment::lanes</code> has been marked as deprecated. dwMapsLaneGroup defines a group of lanes neighboring each other. Access of lanes should be done through a road segments lane groups (<code>dwMapsRoadSegment::laneGroups</code>).</p>
<hr  />
<h1><a class="anchor" id="pg_laneplanner"></a>
Lane Planner</h1>
<p >dwLanePlanActions now has 3 additional parameters:</p><ul>
<li>hasLaneMerge: indicates whether the struct contains a valid lane merge</li>
<li>laneMerge: struct to describe the lane merge in detail</li>
<li>laneMergeDist: distance to point where the lanes merge</li>
</ul>
<p >dwLanePlan_getLanePlanActions() with its signature from the version 2.0 is deprecated. dwLanePlan_getLanePlanActionsNew() contains an additional parameter "laneMergePointIndex" to describe at which point on the lane plan the next merge happens.</p>
<p >A new function dwLanePlan_updateCurrentPointWithCurrentRoadSegment() has been added. It does the same as dwLanePlan_updateCurrentPointWithLocalPose(), but the search for the current point is restricted to the reference road segment, for better performance. Use this function if it is known that the current pose is on the reference road segment.</p>
<hr  />
<h1><a class="anchor" id="pg_ipc"></a>
IPC</h1>
<p >This release adds support for finite time waiting when peeking, reading or writing data. This change requires a specific time span (<code>timeout_us</code>) during which the thread will block until data is available. Therefore, the following functions' signatures have been updated accordingly:</p>
<ul>
<li><code><a class="el" href="group__ipc__group.html#gaea2d32cc11915add0892b000f7afbb43" title="Peek at a message of a given length from the network connection (blocking within timeout period).">dwSocketConnection_peek()</a></code> has been renamed to <code>dwSocketConnection_peekNew()</code>, and requires an additional argument of type <code>dwTime_t</code> indicating during which the thread will block waiting at most. Note that the unit of <code>timeout_us</code> is microseconds.</li>
<li>The old <code><a class="el" href="group__ipc__group.html#gaea2d32cc11915add0892b000f7afbb43" title="Peek at a message of a given length from the network connection (blocking within timeout period).">dwSocketConnection_peek()</a></code> which performs infinite time waiting until data is available, can be replaced by <code>dwSocketConnection_peekNew()</code> with <code>timeout_us</code> specified as <code>DW_TIMEOUT_INFINITE</code>.</li>
<li><code>dwSocketConnection_peekNonBlock()</code> has been marked as deprecated, and can be replaced by <code>dwSocketConnection_peekNew()</code> with <code>timeout_us</code> specified as zero.</li>
<li><code>dwSocketConnection_send()</code> has been replaced by <code><a class="el" href="group__ipc__group.html#gad1258845b490660e32b6f805dafcbca7" title="Send a message of a given length through the socket connection with a timeout.">dwSocketConnection_write()</a></code>. To achieve equivalent behavior <code><a class="el" href="group__ipc__group.html#gad1258845b490660e32b6f805dafcbca7" title="Send a message of a given length through the socket connection with a timeout.">dwSocketConnection_write()</a></code> has to be called with <code>DW_TIMEOUT_INFINITE</code> for the <code>timeout_us</code> argument.</li>
<li><code>dwSocketConnection_recv()</code> and <code>dwSocketConnection_recvNonBlock()</code> have been replaced with <code><a class="el" href="group__ipc__group.html#ga675bc165128b4062ae6d84378c0c1d7d" title="Receive a message of a given length from the network connection.">dwSocketConnection_read()</a></code> which now accepts a <code>timeout_us</code> argument. To achieve same blocking behavior as in <code>dwSocketConnection_recv()</code> and non-blocking behavior as in <code>dwSocketConnection_recvNonBlock()</code> pass to <code><a class="el" href="group__ipc__group.html#ga675bc165128b4062ae6d84378c0c1d7d" title="Receive a message of a given length from the network connection.">dwSocketConnection_read()</a></code> as <code>timeout_us</code> argument <code>DW_TIMEOUT_INFINITE</code> or <code>0</code> respectively.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The old APIs and the <code>New</code> suffix for the new APIs will be removed in the next major release.</dd></dl>
<p>For more information see <a class="el" href="ipc_mainsection.html">IPC</a>.</p>
<hr  />
<h1><a class="anchor" id="pg_calibration_2_2"></a>
Calibration</h1>
<p >This release has updated the <code>dwCalibrationState</code> enum, deprecating the <code>DW_CALIBRATION_STATE_STOPPED</code> and <code>DW_CALIBRATION_STATE_STARTED</code> values. Please use <code><a class="el" href="group__calibration__types__group.html#ac48399b98376d8bf6bd7721a119ddf70" title="Flag indicating whether a calibration routine is running.">dwCalibrationStatus::started</a></code> instead.</p>
<p >This release has deprecated <code>dwCalibrationEngine_addLidarPoses</code> API. The method is extended with a second timestamp and is replaced by <code>dwCalibrationEngine_addLidarPose</code>.</p>
<p >This release adapts and clarifies the <code>--use-checkerboard</code> parameter semantics of the <code>calibration-intrinsics-constraints</code> tool to indicate the actual checkerboard pattern <em>grid dimension</em> (before, this was the dimension of inner pattern corners).</p>
<hr  />
<h1><a class="anchor" id="pg_egomotion_2_2"></a>
Egomotion</h1>
<p >This release has deprecated the <code>dwEgomotion_applyRelativeUncertainty</code> API. Please use the <code>dwEgomotion_computeRelativeTransformation</code> API for the computing the uncertainty of a relative motion estimate, and the estimates available in <code><a class="el" href="group__egomotion__group.html#structdwEgomotionUncertainty" title="Holds egomotion uncertainty estimates.">dwEgomotionUncertainty</a></code> for the uncertainty of the corresponding fields in <code><a class="el" href="group__egomotion__group.html#structdwEgomotionResult" title="Holds egomotion state estimate.">dwEgomotionResult</a></code>.</p>
<p >This release has deprecated the <code>estimationPeriod</code> parameter in <code><a class="el" href="group__egomotion__group.html#structdwEgomotionParameters" title="Holds initialization parameters for the Egomotion module.">dwEgomotionParameters</a></code>. Use the <code>automaticUpdate</code> parameter going forward.</p>
<p >This release has deprecated the <code>dwEgomotionState_getHistoryEntry</code> API. Use the <code>dwEgomotionState_getHistoryElement</code> API going forward. The timestamp is now available as part of <code><a class="el" href="group__egomotion__group.html#structdwEgomotionResult" title="Holds egomotion state estimate.">dwEgomotionResult</a></code> and <code><a class="el" href="group__egomotion__group.html#structdwEgomotionUncertainty" title="Holds egomotion uncertainty estimates.">dwEgomotionUncertainty</a></code>.</p>
<p >This release announces the upcoming deprecation of the GPS-dependent APIs and estimates in <code>dwEgomotion</code>, which will be gradually deprecated and removed in future releases. Going forward, please use the <code>dwGlobalEgomotion</code> module if global position and orientation estimates are required.</p>
<p >This release adds a suspension model used to compensate for vehicle body rotation due to acceleration and resulting rotational suspension effects. See <code><a class="el" href="group__egomotion__group.html#structdwEgomotionSuspensionParameters" title="Suspension model type and parameters.">dwEgomotionSuspensionParameters</a></code>.</p>
<hr  />
 <h1><a class="anchor" id="pg_mapnet_2_2"></a>
dwMapNet</h1>
<p >This release has deprecated the <code>dwMapNet_initDefaultParams</code> API. please use <code>dwMapNet_initDefaultParamsNew</code> to initialize parameters for MapNet.</p>
<hr  />
<h1><a class="anchor" id="pg_landmark_perception_2_2"></a>
LandmarkPerception</h1>
<p >Landmark enums are now consolidated under LandmarkTypes.h and <code>dwLaneMarkType</code> has been moved to that file. LandmarkDetector and LaneDetector both refer to the new LandmarkTypes.h file.</p>
<p >This release changes the struct of <code>dwLaneDetection</code>, and extends it with a member <code>dwTime_t</code> to indicate the timestamp of frame used for detection.</p>
<p >This release has deprecated the <code>dwLandmarkDetector_initializeDefaultParams</code> API. Please use <code>dwLandmarkDetector_initializeDefaultParamsNew</code> for initializing landmark detector parameters.</p>
<p >This release has deprecated the <code>dwLandmarkDetector_detectLandmarks</code> API as well as the <code>dwLandmarkDetectorOutput</code> struct. Please use <code>dwLandmarkDetector_detectLandmarksNew</code> to detect landmarks.</p>
<p >This release has deprecated the <code>dwLandmarkDetector_setDetectionROI</code> API. Please set ROI with <code>dwLandmarkDetectorParams</code>. This release has deprecated the <code>dwLandmarkDetector_setDetectionThreshold</code> API. Please set thresholds with <code>dwLandmarkDetectorParams</code>. This release has deprecated the <code>dwLandmarkDetector_setModelParameterFitting</code> API. Please set model parameter fitting with <code>dwLandmarkDetectorParams</code>.</p>
<p >This release has deprecated the <code>dwLandmarkDetector_setTemporalSmoothFactor</code> API. Note This API currently has no functionality. This release has deprecated the <code>dwLandmarkDetector_getTemporalSmoothFactor</code> API. Note This API currently has no functionality.</p>
<hr  />
<h1><a class="anchor" id="pg_freespaceperception_2_2"></a>
Freespace Perception</h1>
<p >In this release, the major change for freespace perception module is to enable per camera setting change for the batched camera frames. Specifically, the static camera parameters can be initialized via <code>dwFreespaceDetector_initializeFromOpenRoadNet_new</code>. The runtime per camera parameters such as camera extrinsics, maximum boundary distance, and ROI can be set separately with the camera index in the batch. These are the new initialization struct variables and per camera set/get APIs:</p>
<ul>
<li><code>dwFreespaceDetectorInitParams.cam_new[]</code></li>
<li><code>dwFreespaceDetectorInitParams.roi[]</code></li>
<li><code>dwFreespaceDetectorInitParams.maxDistance[]</code></li>
<li><code>dwFreespaceDetector_setCameraExtrinsics_new</code></li>
<li><code>dwFreespaceDetector_setMaxFreespaceDistance_new</code></li>
<li><code>dwFreespaceDetector_setDetectionROI_new</code></li>
<li><code>dwFreespaceDetector_getDetectionROI_new</code></li>
</ul>
<p >The existing struct variables and APIs are deprecated:</p>
<ul>
<li><code>dwFreespaceDetectorInitParams.cam</code></li>
<li><code>dwFreespaceDetectorInitParams.maxNumImages</code></li>
<li><code>dwFreespaceDetector_setCameraExtrinsics</code></li>
<li><code>dwFreespaceDetector_setMaxFreespaceDistance</code></li>
<li><code>dwFreespaceDetector_setDetectionROI</code></li>
<li><code>dwFreespaceDetector_getDetectionROI</code></li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_pointcloudprocessing_2_2"></a>
Point Cloud Processing</h1>
<p >This release deprecates KDtree based ICP type (<code>DW_POINT_CLOUD_ICP_TYPE_KD_TREE</code>) in <code>dwPointCloudICPType</code> struct. There is no replacement for quasi unstructured point clouds available in this release. Please switch to structured <code>DW_POINT_CLOUD_ICP_TYPE_DEPTH_MAP</code> depthmap based ICP type.</p>
<p >This release has extended <code><a class="el" href="group__pointcloudprocessing__group.html#structdwPointCloud" title="Defines point cloud data structure.">dwPointCloud</a></code> structure with a member indicating point format. Currently XYZI and RTHI are supported. <code>xyzi</code> pointer is declared deprecated. When creating a buffer it is initialized only if point format is XYZI. Otherwise it is set to nullptr and the user should use <code>points</code> instead.</p>
<p >Stitcher API has been modified in this release. <code>dwPointCloudStitcher_setMotionCompensation</code> is declared deprecated. Instead the following functions added:</p>
<ul>
<li><code>dwPointCloudStitcher_enableMotionCompensation</code></li>
<li><code>dwPointCloudStitcher_disableMotionCompensation</code></li>
<li><code>dwPointCloudStitcher_setGlobalTransformation</code></li>
</ul>
<p ><code>dwPointCloudAccumulator</code> API has been changed in the following way:</p><ul>
<li><code>dwPointCloudAccumulator_bindInput</code> is declared deprecated. It is recommended to use <code>dwPointCloudAccumulator_addLidarPacket</code> instead.</li>
<li><code>dwPointCloudAccumulator_isReady</code> is added returning a flag indicating when full spin has been collected.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="pg_lidaraccumulator_2_2"></a>
Lidar Accumulator</h1>
<p ><code>dwLidarAccumulator</code> is declared deprecated and corresponding sample has been removed. <code>dwPointCloudAccumulator</code> should be used instead.</p>
<hr  />
<h1><a class="anchor" id="pg_softisp_2_2"></a>
SoftISP</h1>
<p >This release changes the struct of SoftISP paramters, and removes the inclusion of <code><a class="el" href="group__camera__group.html#structdwCameraProperties" title="Camera Properties.">dwCameraProperties</a></code> within that struct.</p>
<hr  />
<h1><a class="anchor" id="pg_blindnessdetector_2_2"></a>
BlindnessDetector</h1>
<p >This release deprecates motion based (KLT feature based) blindness detection as a method for the BlindnessDetector module. Going forward, ClearSightNet DNN based blindness detetion will be the only availabe method. As part of this change, the following functions are deprecated:</p>
<ul>
<li><code>dwBlindnessDetector_initMotionBasedDefaultParams()</code></li>
<li><code>dwBlindnessDetector_detectWithDNN()</code></li>
<li><code>dwBlindnessDetector_detectWithMotion()</code>.</li>
</ul>
<p >In addition, the following data elements and structures are deprecated:</p>
<ul>
<li><code>dwBlindnessDetectionType</code> enum</li>
<li><code>maskCPU</code> and <code>maskCPUsegmented</code> variables in <code>dwBlindnessDetectionOutput</code> struct</li>
<li><code>method</code>, <code>imageWidth</code>, <code>imageHeight</code>, <code>blockX</code>, <code>blockY</code>, <code>historyCapacity</code>, <code>maxFeatureCount</code>, <code>useSkyPrior</code> and <code>blindnessThreshold</code> variables in <code>dwBlindnessDetectorParams</code> struct</li>
</ul>
<p >In order to remove the use of deprecated API elements in your application that uses ClearSightNet DNN for blindness detection, you need to make the following changes:</p>
<ul>
<li>change use of <code>dwBlindnessDetector_detectWithDNN()</code> to <code>dwBlindnessDetector_detect()</code></li>
<li>remove any instances where <code>method</code> member of any object of <code>dwBlindnessDetectionParams</code> struct is set to <code>DW_BLINDNESSDETECTION_CLEARSIGHTNET</code></li>
</ul>
<p >In addition, please retire any usage of motion based blindness detection from your application. ClearSightNet based blindness detection offers faster performance and much better accuracy.</p>
<hr  />
<h1><a class="anchor" id="pg_sensors_2_2"></a>
dwSensorSeekTable</h1>
<p >This release generalizes the seek table API to all sensors</p>
<ul>
<li>change use of <code>dwSensor_getSeekTable()</code> to <code><a class="el" href="group__sensors__common__group.html#ga01028ae2b9c2b67707296abee8a3d30b" title="Get the number of entries in the seek Table.">dwSensor_getNumSeekTableEntries()</a></code> followed by <code>dwSensor_getSeekTableEntries</code></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Deprecated functions, enums and struct variables will be removed in the next major release.</dd></dl>
<hr  />
<h1><a class="anchor" id="pg_objects_2_2"></a>
Objects</h1>
<p ><code>details</code> field of <code>dwObjectCamera</code>, <code>dwObjectRadar</code> and <code>dwObjectFused</code> is deprecated. The type <code>dwObjectGeneric</code> will be deprecated and removed in the upcoming releases in favor of <code>dwObstacle</code>, further use of <code>dwObjectGeneric</code> is discouraged.</p>
<hr  />
<h1><a class="anchor" id="pg_drivenet_2_2"></a>
dwDriveNet</h1>
<p >This release add a new enum <code>dwDriveNetCameraType</code> to <code>dwDriveNetParams</code> specify the type camera with different fields of view. This is essential to make sure depth output for objects from drivenet is properly scaled.</p><ul>
<li><code>DW_DRIVENET_CAMERA_60FOV</code> for 60 degree field of view camera</li>
<li><code>DW_DRIVENET_CAMERA_120FOV</code> for 120 degree field of view camera</li>
<li><code>DW_DRIVENET_CAMERA_30FOV</code> for 30 degree field of view camera</li>
</ul>
<p >The parameter <code>hasDepth</code> is deprecated and it is replaced with <code>hasObjectDepth</code>.</p>
<p >This release adds a new value <code>hasObjectUrgency</code> to <code>dwDriveNetParams</code>. This value indicates to load a network that outputs urgency for detected objects.</p>
<p >This release adds a new value <code>hasUrgency</code> to <code>dwDriveNetClassProperties</code> to indicate whether a valid urgency is provided for a given object class.</p>
<p >This release adds two new temporal models, <code>DW_STATEFUL_TEMPORAL_DRIVENET_MODEL</code> and <code>DW_STATELESS_TEMPORAL_DRIVENET_MODEL</code>, to enum <code>dwDriveNetModel</code>. These two models can predict temporal information such as urgency, which equals to the inverse of time to collision (TTC).</p>
<hr  />
<h1><a class="anchor" id="pg_objectdetector_2_2"></a>
dwObjectDetector</h1>
<p >This release addes a new API, <code>dwObjectDetector_isObjectUrgencyEnabled</code>, to indicate whether urgency output is enabled.</p>
<p >The API <code>dwObjectDetector_isDistanceEnabled</code> is deprecated and it is replaced with <code>dwObjectDetector_isObjectDepthEnabled</code>.</p>
<hr  />
<h1><a class="anchor" id="pg_vehicleio_2_2"></a>
Vehicle IO</h1>
<p >This release adds support for AEB signals including a heartbeat as an alive counter, a request to activate automatic emergency braking (AEB), a request to activate a forward collision warning (FCW), and system status/state information for these respective monitoring systems. This change is designed to support external consumption of AEB and FCW requests.</p>
<p >Following member variables in <code>struct <a class="el" href="group__VehicleIO__actuators__group.html#structdwVehicleIOCommand" title="The command data.">dwVehicleIOCommand</a></code> were deprecated and scheduled to be removed in the next major version:</p>
<ul>
<li><code>throttlePercent</code></li>
<li><code>brakePercent</code></li>
<li><code>brakeTorque</code></li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_waitconditions_2_2"></a>
dwWaitConditions</h1>
<ul>
<li><code>dwWaitConditionsDetector_initializeFromWaitNet()</code> is deprecated. The alternate API is <code>dwWaitConditionsDetector_initializeFromWaitNetNew()</code></li>
<li><code>dwWaitConditionsDetector_getDetectedIntersection()</code> is deprecated. The detected output can be fetched by access input to <code>dwWaitConditionsDetector_bindOutput()</code></li>
<li><code>filterMultipleObject</code> is added to <code>dwWaitConditionsDetectorTemporalAnalysisParams</code>. Should turn on when detecting multiple intersections.</li>
<li><code>dwTemporalAnalysis_getTrackID()</code> is added in temporal analysis model. Temporal analysis model now hold a track ID.</li>
<li><code>dwTemporalAnalysis_reset()</code> is added in temporal analysis model. It cleans up all the history.</li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_dwCANMessage_2_2"></a>
dwCANMessage</h1>
<p ><code><a class="el" href="group__can__group.html#structdwCANMessage" title="Holds a CAN package.">dwCANMessage</a></code> structure has changed size to accommodate large CAN FD message types.</p>
<p >This has resulted in a number of log files changing their internal data structure. This update handled automatically in most applications but some old files may need to be updated if the application make assumptions that the file contains structures size <code>sizeof(dwCANMessages)</code>.</p>
<p >An example of this is in the samples/sensors/plugins directory. These samples will not work on old sensor recording and those recording will need to be updated with virtual_can_file_updater. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
