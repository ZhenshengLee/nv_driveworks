<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: Coordinate Systems</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dwx_coordinate_systems.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Coordinate Systems </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#coord_vehicle">Vehicle Coordinate Systems</a></li>
<li class="level1"><a href="#coord_world">World Coordinate Systems</a></li>
<li class="level1"><a href="#coord_sensor">Sensor Coordinate System</a></li>
<li class="level1"><a href="#coord_custom">Custom Coordinate System</a></li>
</ul>
</div>
<div class="textblock"><p >The DriveWorks SDK defines multiple coordinate systems, given by <code><a class="el" href="group__coordinate__systems__group.html#gac2b6a4079b10642ed243999ccf3d893e" title="Coordinate systems.">dwCoordinateSystem</a></code>. The following sections describe the conventions for each coordinate system.</p>
<h1><a class="anchor" id="coord_vehicle"></a>
Vehicle Coordinate Systems</h1>
<p >Vehicle coordinate systems are used to determine vehicle parameters, sensor placement and pose of objects in the environment relative to the vehicle. Coordinate systems for a set of rigid bodies of a vehicle are described below.</p>
<h2>Base Vehicle Coordinate System</h2>
<p >The Base Vehicle Coordinate System is the coordinate system attached to the primary vehicle body supported by suspension. The axis system is fixed in the body such that, in nominal resting condition on horizontal ground, the X axis is horizontal, parallel to the vehicle's longitudinal plane of symmetry and pointing forwards. The Y axis is horizontal, perpendicular to the X axis and pointing to the left, and the Z axis is vertical, perpendicular to both X and Y and pointing upwards. The origin is fixed in the body and chosen as the mid-point of the (virtual) rear-axle, projected onto ground. See ISO8855:2011(2.10, 2.12).</p>
<p >Currently, the Base Vehicle Coordinate System is the one that dwRig relies on to describe all sensor positions. Future extensions will allow placement of sensors relative to other vehicle bodies.</p>
<div class="image">
<img src="car_coordinate_system.png" alt=""/>
<div class="caption">
Base Vehicle Coordinate System</div></div>
    <dl class="section note"><dt>Note</dt><dd>In a passenger car configuration, the Base Vehicle Coordinate System refers to the car body, and is often simply referred to as the "rig". </dd>
<dd>
In a truck configuration, the Base Vehicle Coordinate System refers to the tractor chassis.</dd></dl>
<h2>Vehicle Cabin Coordinate System</h2>
<p >The Vehicle Cabin Coordinate System is the coordinate system attached to the cabin body suspended above the primary vehicle body (see Base Vehicle Coordinate System). The axis system is fixed in the cabin body such that, in nominal resting condition, the X axis is horizontal, parallel to the cabin's longitudinal plane of symmetry and pointing forwards. The Y axis is horizontal, perpendicular to the X axis and pointing to the left, and the Z axis is vertical, perpendicular to both X and Y and pointing upwards. The cabin origin is fixed in the body and chosen such that it coincides with the origin of DW_COORDINATE_SYSTEM_VEHICLE_BASE in nominal resting conditions. See ISO8855:2011(2.18, 2.19).</p>
<dl class="section note"><dt>Note</dt><dd>The Base Vehicle Coordinate System only applies to vehicles with a suspended cabin.</dd></dl>
<h2>Vehicle Trailer Coordinate System</h2>
<p >The Vehicle Trailer Coordinate System is the coordinate system attached to each of the vehicle units towed by a leading vehicle. Axis systems and origins are defined by the same logic as applied for the Base Vehicle Coordinate System. See ISO8855:2011(3.2).</p>
<h1><a class="anchor" id="coord_world"></a>
World Coordinate Systems</h1>
<p >Various World Coordinate Systems are used depending on context and are described below.</p>
<h2>Roadplane Coordinate System</h2>
<p >The Roadplane Coordinate System is the coordinate system attached to the plane approximating the surface supporting the primary vehicle unit. The axis system is fixed in the plane such that X and Y are aligned with the projection onto the plane of axes X and Y of the primary vehicle unit (see Base Vehicle Coordinate System). The Z axis is perpendicular to the plane and pointing upwards. The road plane origin is chosen such that it coincides with the projection of the origin of the Base Vehicle Coordinate System onto the plane.</p>
<h2>Local Coordinate System</h2>
<p >The Local Coordinate System is a coordinate system with origin at an arbitrary point in the world. The axis system is defined by the local vertical, local horizontal (LVLH) and is arbitrarily rotated relative to ENU. Origin and axis are typically defined by the vehicle position and heading at a particular point in time, e.g. at initialization.</p>
<h2>World Coordinate System</h2>
<p >The World Coordinate System is used for map/earth coordinates and is defined by the World Geodetic System 1984 (WGS84) and East-North-Up (ENU) axis conventions.</p>
<p >The origin is defined at an arbitrary point on the Earth surface. X, Y and Z axes are defined tangent to the plane at origin point such that (X, Y, Z) corresponds to (East, North, Up).</p>
<p >The NVIDIA<sup>&reg;</sup> DriveWorks maps module provides helper functions to transform into local Cartesian coordinates.</p>
<div class="image">
<img src="wgs84_and_enu_coordinate_system.png" alt=""/>
<div class="caption">
WGS84 (λ,φ) and ENU Coordinate Systems</div></div>
    <h1><a class="anchor" id="coord_sensor"></a>
Sensor Coordinate System</h1>
<p >The sensor coordinate system refers to the local coordinate system defined for each sensor. Conventions used in the SDK vary from sensor to sensor and are described below.</p>
<h2>Image and Camera Coordinate Systems</h2>
<p >The Image Coordinate System describes the position of points in the image space, and the Camera Coordinate System describes the corresponding point in 3D space. The intrinsics of the camera are used to transform a point between the two coordinate systems.</p>
<p >The Image Coordinate System originates at the top-left of the image. The u- and v-axes, in pixel units, are aligned with the way pixels are stored in memory.</p>
<p >The Camera Coordinate System has its origin at the optical center of the camera. The x-axis points to the right of the image plane and the y-axis points to the bottom of the image plane. The z-axis points forward, along the optical axis. The x- and y-axes point in the same direction as the image u- and v-axes, respectively. The camera coordinate axes are in metric units.</p>
<div class="image">
<img src="image_and_camera_coordinate_system.png" alt=""/>
<div class="caption">
Image and Camera Coordinate Systems</div></div>
    <h2>IMU Coordinate System</h2>
<p >DriveWorks IMU Coordinate Systems are dependent on the IMU manufacturer and model, see below. Associated GPS positions need to be provided as a 3D position vector expressed in IMU Coordinate System.</p>
<h3>Continental</h3>
<p >The Continental IMU Coordinate System is centered as in the figure below. The x-axis points in the direction opposite of the connector / plug. The z-axis points towards the top of the sensor. The y-axis is oriented such that it completes an orthogonal right-handed coordinate system.</p>
<div class="image">
<img src="sensor_cf_imu_continental.png" alt=""/>
<div class="caption">
Continental IMU Coordinate System</div></div>
    <h3>Novatel</h3>
<p >The Novatel IMU Coordinate System is centered as in the figure below. The y-axis points in the direction opposite of the connector / plug. The z-axis points towards the top of the sensor. The x-axis is oriented such that it completes an orthogonal right-handed coordinate system.</p>
<div class="image">
<img src="sensor_cf_imu_novatel.png" alt=""/>
<div class="caption">
Novatel IMU Coordinate System</div></div>
    <h3>Xsens</h3>
<p >The Xsens IMU Coordinate System is centered as in the figure below. The x-axis points in the direction opposite of the connector / plug. The z-axis points towards the top of the sensor. The y-axis is oriented such that it completes an orthogonal right-handed coordinate system.</p>
<div class="image">
<img src="sensor_cf_imu_xsens.png" alt=""/>
<div class="caption">
Xsens IMU Coordinate System</div></div>
    <h2>LIDAR Coordinate System</h2>
<p >DriveWorks LIDAR Coordinate Systems are dependent on the LIDAR manufacturer and model.</p>
<h3>HESAI Tech</h3>
<p >The HESAI Lidar Coordinate System is centered at the geometric center of the sensor's receptor. The x-axis points in the direction opposite of the connector / plug. The z-axis is collinear with the sensor's spinning axis, pointing in direction of the top of the sensor. The y-axis is oriented such that it completes an orthogonal right-handed coordinate system.</p>
<div class="image">
<img src="sensor_cf_lidar_hesai.png" alt=""/>
<div class="caption">
HESAI LIDAR Coordinate System</div></div>
    <h3>Velodyne Lidar</h3>
<p >The Velodyne Lidar Coordinate System is centered at the geometric center of the sensor's receptor. The y-axis points in the direction of the connector / plug. The z-axis is collinear with the sensor's spinning axis, pointing in direction of the top of the sensor. The x-axis is oriented such that it completes an orthogonal right-handed coordinate system.</p>
<div class="image">
<img src="sensor_cf_lidar_velodyne.png" alt=""/>
<div class="caption">
Velodyne LIDAR Coordinate System</div></div>
    <h2>Radar Coordinate System</h2>
<p >The Radar Coordinate System is centered at the geometric center of the radar's receptor. The x-axis points in sensing direction. The y-axis points in the direction of the connector / plug and the z-axis is oriented such that it completes an orthogonal right-handed coordinate system.</p>
<div class="image">
<img src="sensor_cf_radar.png" alt=""/>
<div class="caption">
Radar Coordinate System</div></div>
    <h1><a class="anchor" id="coord_custom"></a>
Custom Coordinate System</h1>
<p >The Custom Coordinate System represents any arbitrary coordinate system that the developer wants to use. It is the developer's responsibility to keep other users informed of the relations between this coordinate system and any of the DriveWorks-defined coordinate systems. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
