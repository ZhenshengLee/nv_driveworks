<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: IPP to NvSIPL Porting Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('camera_nvsipl_ipp_porting_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">IPP to NvSIPL Porting Guide </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >NvMediaâ€™s IPP is a legacy framework that has been deprecated and replaced with SIPL; DriveWorks has updated its Camera Sensor implementation accordingly. DriveWorks automatically translates parameters used with the legacy IPP-based <code>camera.gmsl</code> protocol to those suitable for SIPL. While existing applications involving single camera usage may continue to work out of the box, it is best practice to migrate existing applications to the updated SIPL-based <code>camera.gmsl</code> protocol at your earliest convenience.</p>
<dl class="section note"><dt>Note</dt><dd>If you have existing DriveWorks applications utilizing the IPP framework and are unable to migrate to SIPL, use <code>camera.gmsl.ipp</code> instead of <code>camera.gmsl</code> for your camera protocol.</dd></dl>
<p>This short guide showcases the differences and how to update the parameters.</p>
<p >While IPP drivers are opaque and only exposed via DriveWorks as <code>camera-type</code> parameters, the SIPL drivers are highly customizable. A selection of GMSL camera drivers are provided in each release, and are automatically compatible with DriveWorks. The list of supported SIPL drivers in the current platform is viewable by running <a class="el" href="dwx_sipl_query_tool.html">SIPL Query Tool</a> tool in the DriveWorks tools/sensors folder. The output of the tool prints all camera modules directly from the NvSIPL library and database of the current platform. These camera modules are used to specify the camera in the <code>camera-name</code> parameter within the <code>camera.gmsl</code> protocol.</p>
<p >It is possible to translate IPP's <code>camera-type</code> parameter into SIPL's <code>camera-name</code>. Please refer to the list of mappings below.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">IPP camera-type   </th><th class="markdownTableHeadNone">SIPL camera-name    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ar0231-rccb-bae-sf3324   </td><td class="markdownTableBodyNone">SF3324    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ar0231-rccb-bae-sf3325   </td><td class="markdownTableBodyNone">SF3325    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ar0144-cccc-none-gazet1   </td><td class="markdownTableBodyNone">AR0144P   </td></tr>
</table>
<p >IPP also maps a <code>dwSensorHandle_t</code> to a port (camera brick), where up to four cameras can be controlled from a single API call with <code><a class="el" href="group__camera__group.html#ga2720333fcd0dfc234863d6e4bb0a953b" title="Reads a frame handle from the camera sensor.">dwSensorCamera_readFrame()</a></code>. This also involves using <code>siblingIndex</code> to distinguish between the four cameras in the brick.</p>
<p >For SIPL, each camera is mapped to an individual <code>dwSensorHandle_t</code>. This means that mapping IPP's parameter <code>camera-mask</code> is not possible, unless the mask only has 1 camera specified: 0001, 0010, 0100, or 1000. The SIPL parameter instead requires <code>link</code> to specify the camera ID in a port to enable.</p>
<p >Previously, the parameter <code>camera-group</code> was used to simplify port selection by calling each camera group: A, B, C, or D. In SIPL this is not valid anymore. Instead, use <code>csi-port</code> (specified in the DRIVE OS documentation) with the changes based on the camera model and use case. Examples include: <code>csi-a</code>, <code>csi-c</code>, <code>cs-cd</code>, <code>trio-ab</code> etc.</p>
<dl class="section note"><dt>Note</dt><dd><code>camera-group=b</code> does not correspond to <code>csi-port=csi-b</code>. It corresponds to <code>csi-port=csi-c</code>, <code>csi-port=csi-cd</code>, or <code>csi-port=trio-cd</code>.</dd></dl>
<p>Lastly, there are changes to the APIs. When using <code>camera.gmsl</code>, all cameras must be created before any call to <code>dwSensor_start</code>. Afterwards, no change in the sensor setup can be made.</p>
<p >Regarding <code>camera.virtual</code> protocol, all raw videos that have a file version older than V6 will no longer use SIPL due to incompatibility issues. These videos should not be used anymore, and newer videos should be adopted or recorded. All other videos will automatically use NvSIPL. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
