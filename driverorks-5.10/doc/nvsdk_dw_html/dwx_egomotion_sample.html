<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: Egomotion Sample</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dwx_egomotion_sample.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Egomotion Sample </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dwx_egomotion_description">Description</a></li>
<li class="level1"><a href="#dwx_egomotion_running">Running the Sample</a><ul><li class="level2"><a href="#dwx_egomotion_examples">Examples</a></li>
</ul>
</li>
<li class="level1"><a href="#dwx_egomotion_output">Output</a></li>
<li class="level1"><a href="#dwx_egomotion_more">Additional Information</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="dwx_egomotion_description"></a>
Description</h1>
<p >The Egomotion sample application shows how to use steering angle and velocity CAN measurements. It also explains how to use IMU and GPS measurements to compute vehicle position and orientation within the world coordinate system.</p>
<h1><a class="anchor" id="dwx_egomotion_running"></a>
Running the Sample</h1>
<p >The command line for the sample is: </p><pre class="fragment">./sample_egomotion --camera-sensor-name=[name]
                   --vehicle-sensor-name=[name]
                   --imu-sensor-name=[name]
                   --gps-sensor-name=[name]
                   --mode=[0|1]
                   --output=[path/to/output/file]
                   --outputkml=[path/to/output/file]
                   --rig=[path/to/rig/file]
                   --speed-measurement-type=[0|1|2]
                   --enable-suspension=[0|1]
</pre><p> where </p><pre class="fragment">--camera-sensor-name=[name]
    Name of the camera sensor in the given rig file.
    Default value: First camera sensor found in the rig file.

--vehicle-sensor-name=[name]
    Name of the sensor providing vehicle data in the given rig file.
    Default value: First CAN sensor found in the rig file.

--gps-sensor-name=[name]
    Name of the GPS sensor in the given rig file.
    Default value: First GPS sensor found in the rig file.

--imu-sensor-name=[name]
    Name of the IMU sensor in the given rig file.
    Default value: First IMU sensor found in the rig file.

--mode=[0|1]
    The sample application supports different egomotion estimation modes.
    To switch the mode, pass `--mode=0/1` as the argument.
    Mode 0 represents odometry-based egomotion estimation.
    The vehicle motion is estimated using Ackerman principle.
    Mode 1 uses IMU measurements to estimate vehicle motion.
    Gyroscope and linear accelerometers are filtered and fused to estimate vehicle orientation.
    Using speed vehicle odometry reading, the vehicle's traveling path can be estimated.
    This mode also filters GPS locations if they are passed to the module.
    Default value: 1

--output=[path/to/output/file]
    If specified, the sample application outputs the odometry data to this file. The vehicle's position
    in world coordinates (x,y) together with a timestamp in microseconds will be written out as:
    ....
    5680571648,-7.67,118.30
    5680604981,-7.75,118.33
    5680638314,-7.83,118.36
    5680671647,-7.91,118.38
    5680704980,-7.98,118.41
    Default value: none

--outputkml=[path/to/output/file]
    If specified, the sample application outputs the GPS and estimated location.
    Default value: none

--rig=[path/to/rig/file]
    Rig file containing all information about vehicle sensors and calibration.
    Default value: path/to/data/samples/recordings/suburb0/rig.json

--speed-measurement-type=[0|1|2]
    Speed measurement to be used, refer to dwEgomotionSpeedMeasurementType.
    Default value: 1

--enable-suspension=[0|1]
    Enables egomotion suspension modeling. It requires Odometry+IMU [--mode=1].
    Default value: 0
</pre><p> You must provide the following file:</p><ul>
<li>Rig file: contains the rig configuration and sensor parameters.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>for more details on sensors parameters and usage refer to <a class="el" href="canbus_mainsection.html">CAN Bus</a>, <a class="el" href="gps_mainsection.html">GPS</a>, <a class="el" href="imu_mainsection.html">IMU</a>.</dd></dl>
<h2><a class="anchor" id="dwx_egomotion_examples"></a>
Examples</h2>
<h4>Running the sample with default arguments</h4>
<pre class="fragment">./sample_egomotion
</pre> <h4>Running the sample with output file</h4>
<pre class="fragment">sudo ./sample_egomotion --output=/home/nvidia/out.txt
</pre> <h1><a class="anchor" id="dwx_egomotion_output"></a>
Output</h1>
<p >The sample application creates a window, displays a video, and plots the vehicle's position at a 30 Hertz sampling rate. Current speed, roll, pitch, and yaw are also printed.</p>
<div class="image">
<img src="sample_egomotion.png" alt=""/>
<div class="caption">
Egomotion Sample</div></div>
    <h1><a class="anchor" id="dwx_egomotion_more"></a>
Additional Information</h1>
<p >For more details see <a class="el" href="egomotion_mainsection.html">Egomotion</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
