<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: Porting Guide from SDK 3.5 to SDK 4.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dwx_porting_guide_4_0.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Porting Guide from SDK 3.5 to SDK 4.0 </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#pg_installation_4_0">Installation</a></li>
<li class="level1"><a href="#pg_calibration_4_0">Calibration</a><ul><li class="level2"><a href="#pg_cameramodel_4_0">Camera Models</a></li>
<li class="level2"><a href="#pg_egomotion_4_0">Egomotion</a></li>
</ul>
</li>
<li class="level1"><a href="#pg_sensors_4_0">Sensors</a><ul><li class="level2"><a href="#pg_sensorscamera_4_0">Sensors Camera</a></li>
<li class="level2"><a href="#pg_sensorserializer_4_0">Sensor Serializer</a></li>
<li class="level2"><a href="#pg_canbus_4_0">CAN Bus</a></li>
</ul>
</li>
<li class="level1"><a href="#pg_dnn_framework_4_0">DNN Framework</a><ul><li class="level2"><a href="#pg_dataconditioner_4_0">Data Conditioner</a></li>
<li class="level2"><a href="#pg_dnn_tensor_4_0">DNN Tensors</a></li>
</ul>
</li>
<li class="level1"><a href="#pg_image_processing_4_0">Image Processing</a><ul><li class="level2"><a href="#pg_feature2ddetector_4_0">Feature2DDetector</a></li>
<li class="level2"><a href="#pg_feature2dtracker_4_0">Feature2DTracker</a></li>
</ul>
</li>
<li class="level1"><a href="#pg_pointcloudprocessing_4_0">Point Cloud Processing</a></li>
<li class="level1"><a href="#pg_vehicleio_4_0">VehicleIO</a></li>
<li class="level1"><a href="#pg_core_4_0">Core</a><ul><li class="level2"><a href="#pg_memory_4_0">Memory</a></li>
<li class="level2"><a href="#pg_logger_4_0">Logger</a></li>
<li class="level2"><a href="#pg_core_system_4_0">Core System</a></li>
<li class="level2"><a href="#pg_base_4_0">Base</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p >This document will help you port your applications from DriveWorks SDK 3.5 to DriveWorks SDK 4.0.</p>
<h1><a class="anchor" id="pg_installation_4_0"></a>
Installation</h1>
<p >DriveWorks main library was split into a collection of smaller libraries providing a subset of DriveWorks APIs to link against. Every user end application or library would need to link against a particular <code>libdw_&lt;module&gt;.so</code> library instead, to gain access to the API subset.</p>
<hr  />
 <h1><a class="anchor" id="pg_calibration_4_0"></a>
Calibration</h1>
<p >Following APIs have been modified:</p><ul>
<li><code>dwCalibrationEngine_addFeatureDetections</code> additionally takes feature statuses as an input</li>
<li><code>dwCalibrationEngine_initializeStereo</code> additionally takes the vehicle sensor index as an input and allows to perform calibration at low speeds</li>
</ul>
<hr  />
<h2><a class="anchor" id="pg_cameramodel_4_0"></a>
Camera Models</h2>
<ul>
<li>The parameter <code>updateMasks</code> was removed from <code><a class="el" href="group__cameramodel__group.html#gaa741429ffb1cfd11b477f3ad3ffd5c23" title="Sets a new origin for the image and adjusts image scales.">dwCameraModel_applyImageTransform()</a></code>.</li>
<li>The OCam camera model is deprecated and will not be supported anymore in future releases. The FTheta camera model can be used instead.</li>
</ul>
<hr  />
<h2><a class="anchor" id="pg_egomotion_4_0"></a>
Egomotion</h2>
<ul>
<li>The <code>dwEgomotion_getHistoryElement</code> API signature has been changed. The function no longer provides pointers into the egomotion history, instead a copy of the requested element is provided.</li>
<li>The deprecated enum values <code>DW_EGOMOTION_MEASURMENT_VELOCITY</code>, <code>DW_EGOMOTION_MEASURMENT_STEERINGANGLE</code> and <code>DW_EGOMOTION_MEASURMENT_STEERINGWHEELANGLE</code> are removed from <code>dwMotionModelMeasurement</code>.</li>
<li>The <code>dwEgomotion_addOdometry</code> API has been deprecated. Use <code>dwEgomotion_addVehicleState</code> going forward.</li>
<li>The <code>dwEgomotion_update</code> API has been deprecated. Please set <code><a class="el" href="group__egomotion__group.html#a98c9bdc3f50f411b125e0ed604280e52" title="Automatically update state estimation.">dwEgomotionParameters.automaticUpdate</a></code> to <code>true</code>. This setting will become the default behavior in an upcoming release, at which point <code>dwEgomotion_update</code> will be removed.</li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_sensors_4_0"></a>
Sensors</h1>
<hr  />
<h2><a class="anchor" id="pg_sensorscamera_4_0"></a>
Sensors Camera</h2>
<p >The parameter <code>siblingId</code> in <code>dwSensorCamera_readFrame</code> has been removed. This is due to the fact each instance of a camera is a unit, resulting in no sibling logic anymore.</p>
<hr  />
<h2><a class="anchor" id="pg_sensorserializer_4_0"></a>
Sensor Serializer</h2>
<p >This release removed the following APIs:</p><ul>
<li><code>dwSensorSerializer_attachTo</code></li>
<li><code>dwSensorSerializer_isAttached</code></li>
<li><code>dwSensorSerializer_detachFrom</code></li>
</ul>
<p >Previously, each SensorSerializer instance was capable of serializing data from multiple sensors, and the APIs above relates to that specific functionality. Such functionality will be removed and each instance of SensorSerializer will only handle data from one sensor. If the users want to serialize data from multiple sensors, it is necessary to create multiple instance of SensorSerializer</p>
<hr  />
<h2><a class="anchor" id="pg_canbus_4_0"></a>
CAN Bus</h2>
<p >This release can be used with update Aurix Firmware. Hardware timestamping and is not available with Aurix firmware version 4.0 and above. CAN data size limit is 8 bytes with Aurix firmware version 4.0 and above.</p>
<hr  />
<h1><a class="anchor" id="pg_dnn_framework_4_0"></a>
DNN Framework</h1>
<hr  />
<h2><a class="anchor" id="pg_dataconditioner_4_0"></a>
Data Conditioner</h2>
<p >The data conditioner initializer <code><a class="el" href="group__dataconditioner__group.html#ga37a4e535e0bcc9f8ef09d79d07fb8146" title="Initializes a DataConditioner module.">dwDataConditioner_initialize()</a></code> will be deprecated and replaced with <code>dwDataConditioner_initializeNew()</code>. The new API has an additional parameter that allows setting the maximum number of images that can be processed in one <code>prepareData()</code> call. Previously the number was taken from the batch size of the model passed in to <code><a class="el" href="group__dataconditioner__group.html#ga37a4e535e0bcc9f8ef09d79d07fb8146" title="Initializes a DataConditioner module.">dwDataConditioner_initialize()</a></code>.</p>
<hr  />
<h2><a class="anchor" id="pg_dnn_tensor_4_0"></a>
DNN Tensors</h2>
<p >This release has removed the following previously deprecated APIs:</p>
<ul>
<li><code>dwDNNTensor_create</code></li>
</ul>
<p >and renamed:</p><ul>
<li><code>dwDNNTensor_createNew</code> to <code>dwDNNTensor_create</code></li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_image_processing_4_0"></a>
Image Processing</h1>
<hr  />
<h2><a class="anchor" id="pg_feature2ddetector_4_0"></a>
Feature2DDetector</h2>
<p >This release has removed the following previously deprecated APIs:</p>
<ul>
<li><code><a class="el" href="group__featureDetector__group.html#structdwFeature2DDetectorConfig" title="Holds configuration parameters for a feature detector.">dwFeature2DDetectorConfig</a></code></li>
<li><code>dwFeature2DDetector_initDefaultParams</code></li>
<li><code>dwFeature2DDetector_initDefaultParamsForCamera</code></li>
<li><code>dwFeature2DDetector_initialize</code></li>
</ul>
<p >and renamed:</p>
<ul>
<li><code>dwFeature2DDetectorConfigNew</code> to <code><a class="el" href="group__featureDetector__group.html#structdwFeature2DDetectorConfig" title="Holds configuration parameters for a feature detector.">dwFeature2DDetectorConfig</a></code></li>
<li><code>dwFeature2DDetector_initDefaultParamsNew</code> to <code>dwFeature2DDetector_initDefaultParams</code></li>
<li><code>dwFeature2DDetector_initDefaultParamsForCameraNew</code> to <code>dwFeature2DDetector_initDefaultParamsForCamera</code></li>
<li><code>dwFeature2DDetector_initializeNew</code> to <code>dwFeature2DDetector_initialize</code></li>
</ul>
<hr  />
<h2><a class="anchor" id="pg_feature2dtracker_4_0"></a>
Feature2DTracker</h2>
<p >This release has removed the following previously deprecated APIs:</p>
<ul>
<li><code><a class="el" href="group__feature2dtracker__group.html#structdwFeature2DTrackerConfig" title="Holds configuration parameters for a feature tracker.">dwFeature2DTrackerConfig</a></code></li>
<li><code>dwFeature2DTracker_initDefaultParams</code></li>
<li><code>dwFeature2DTracker_initDefaultParamsForCamera</code></li>
<li><code>dwFeature2DTracker_initialize</code></li>
</ul>
<p >and renamed:</p>
<ul>
<li><code>dwFeature2DTrackerConfigNew</code> to <code><a class="el" href="group__feature2dtracker__group.html#structdwFeature2DTrackerConfig" title="Holds configuration parameters for a feature tracker.">dwFeature2DTrackerConfig</a></code></li>
<li><code>dwFeature2DTracker_initDefaultParamsNew</code> to <code>dwFeature2DTracker_initDefaultParams</code></li>
<li><code>dwFeature2DTracker_initDefaultParamsForCameraNew</code> to <code>dwFeature2DTracker_initDefaultParamsForCamera</code></li>
<li><code>dwFeature2DTracker_initializeNew</code> to <code>dwFeature2DTracker_initialize</code></li>
</ul>
<p >This release has removed <code>DW_FEATURE2D_TRACKER_ALGORITHM_SFM</code> from <code>dwFeature2DTrackerAlgorithm</code>, please use <code>dwFeature2DTrackerConfigNew::enableSparseOutput=1</code> instead.</p>
<p >Following APIs have been modified:</p><ul>
<li><code>dwFeature2DTrackerConfig::numTrackerDevicesPVA</code> was added</li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_pointcloudprocessing_4_0"></a>
Point Cloud Processing</h1>
<p >This release moved the following headers:</p><ul>
<li><code>dw/pointcloudprocessing/PointCloud.h</code> to <code><a class="el" href="PointCloud_8h.html" title="NVIDIA DriveWorks API: Point Cloud Processing">dw/pointcloudprocessing/pointcloud/PointCloud.h</a></code></li>
<li><code>dw/pointcloudprocessing/PointCloudAccumulator.h</code> to <code><a class="el" href="PointCloudAccumulator_8h.html" title="NVIDIA DriveWorks API: Point Cloud Accumulator">dw/pointcloudprocessing/accumulator/PointCloudAccumulator.h</a></code></li>
<li><code>dw/pointcloudprocessing/PointCloudPlaneExtractor.h</code> to <code><a class="el" href="PointCloudPlaneExtractor_8h.html" title="NVIDIA DriveWorks API: Point Cloud Plane Extractor">dw/pointcloudprocessing/planeextractor/PointCloudPlaneExtractor.h</a></code></li>
<li><code>dw/pointcloudprocessing/PointCloudStitcher.h</code> to <code><a class="el" href="PointCloudStitcher_8h.html" title="NVIDIA DriveWorks API: Point Cloud Stitcher">dw/pointcloudprocessing/stitcher/PointCloudStitcher.h</a></code></li>
<li><code>dw/pointcloudprocessing/PointCloudBoxFilter.h</code> to <code><a class="el" href="PointCloudBoxFilter_8h.html" title="NVIDIA DriveWorks API: Point Cloud Box Filter">dw/pointcloudprocessing/filter/PointCloudBoxFilter.h</a></code></li>
<li><code>dw/pointcloudprocessing/PointCloudICP.h</code> to <code><a class="el" href="PointCloudICP_8h.html" title="NVIDIA DriveWorks API: Point Cloud ICP">dw/pointcloudprocessing/icp/PointCloudICP.h</a></code></li>
<li><code>dw/pointcloudprocessing/PointCloudRangeImageCreator.h</code> to <code><a class="el" href="PointCloudRangeImageCreator_8h.html" title="NVIDIA DriveWorks API: Point Cloud Range Image Creator">dw/pointcloudprocessing/rangeimagecreator/PointCloudRangeImageCreator.h</a></code></li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_vehicleio_4_0"></a>
VehicleIO</h1>
<p >Following APIs have been modified:</p><ul>
<li><code>dwVehicleIOCommand::accelerationValue</code> has been replaced by <code><a class="el" href="group__VehicleIO__actuators__group.html#a0b246639c576603b3dd7bcd8ea46bd5f" title="longitudinal acceleration (m/s^2)">dwVehicleIOCommand::lonAccelerationValue</a></code></li>
<li><code>dwVehicleIOCommand::accelerationValid</code> has been replaced by <code><a class="el" href="group__VehicleIO__actuators__group.html#a838605777806e044762192f51c474741" title="True if setting longitudinal acceleration.">dwVehicleIOCommand::lonAccelerationValid</a></code></li>
<li><code>dwVehicleIOCommand::speedValid</code> was removed</li>
<li><code>dwVehicleIOType</code> was updated to support only the core VehicleIO interfaces. <code>dwVehicleIO_initialize</code> and <code>dwVehicleIO_initializeFromDBC</code> should be replaced by <code>dwVehicleIO_initializeFromRig</code> if previous interface types are desired.</li>
</ul>
<hr  />
<h1><a class="anchor" id="pg_core_4_0"></a>
Core</h1>
<hr  />
<h2><a class="anchor" id="pg_memory_4_0"></a>
Memory</h2>
<p >This release moved the following headers:</p><ul>
<li><code>dw/core/Memory.h</code> to <code><a class="el" href="Memory_8h.html">dw/core/memory/Memory.h</a></code></li>
</ul>
<hr  />
<h2><a class="anchor" id="pg_logger_4_0"></a>
Logger</h2>
<p >This release moved the following headers:</p><ul>
<li><code>dw/core/Logger.h</code> to <code><a class="el" href="Logger_8h.html" title="NVIDIA DriveWorks API: Core Warp Primitives">dw/core/logger/Logger.h</a></code></li>
</ul>
<hr  />
<h2><a class="anchor" id="pg_core_system_4_0"></a>
Core System</h2>
<p >This release moved the following headers:</p><ul>
<li><code>dw/core/NvMedia.h</code> to <code><a class="el" href="NvMedia_8h.html" title="NVIDIA DriveWorks API: NvMedia Includes">dw/core/system/NvMedia.h</a></code></li>
<li><code>dw/core/NvMediaExt.h</code> to <code><a class="el" href="NvMediaExt_8h.html" title="NVIDIA DriveWorks API: Extended NvMedia Includes">dw/core/system/NvMediaExt.h</a></code></li>
</ul>
<hr  />
<h2><a class="anchor" id="pg_base_4_0"></a>
Base</h2>
<p >This release moved the following headers:</p><ul>
<li><code>dw/core/Exports.h</code> to <code><a class="el" href="core_2base_2Exports_8h.html" title="NVIDIA DriveWorks API: Core Exports">dw/core/base/Exports.h</a></code></li>
<li><code>dw/core/Status.h</code> to <code><a class="el" href="Status_8h.html" title="NVIDIA DriveWorks API: Core Status Methods">dw/core/base/Status.h</a></code></li>
<li><code>dw/core/Types.h</code> to <code><a class="el" href="Types_8h.html" title="NVIDIA DriveWorks API: Core Types">dw/core/base/Types.h</a></code></li>
</ul>
<hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
