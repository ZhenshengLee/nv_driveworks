<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<title>DriveWorks SDK Reference: CAN Sensor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<link href="nvdwx.css" rel="stylesheet" type="text/css"/>
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
 </style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
      <td width="81%" height="44">
        <div style="text-align:right; font-weight: bold; font-size:20px"> <br/>DriveWorks SDK Reference </div>
        <div style="text-align:right">
        5.10.87 Release <br/> For Test and Development only <br/> <br/> </div>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__can__group.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CAN Sensor<div class="ingroups"><a class="el" href="group__sensors__group.html">Sensors Interface</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Defines the CAN sensor methods. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structdwCANMessage"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#structdwCANMessage">dwCANMessage</a></td></tr>
<tr class="memdesc:structdwCANMessage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds a CAN package.  <a href="group__can__group.html#structdwCANMessage">More...</a><br /></td></tr>
<tr class="separator:structdwCANMessage"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__interpreter__group"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interpreter__group.html">Interpreter</a></td></tr>
<tr class="memdesc:group__interpreter__group"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the CAN message interpreter methods. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__vehicle__group"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vehicle__group.html">Vehicle Data Interface</a></td></tr>
<tr class="memdesc:group__vehicle__group"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the methods used to obtain and store vehicle data. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga168c522128eb0f9513b6cb01650d2931"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#ga168c522128eb0f9513b6cb01650d2931">DW_SENSORS_CAN_MAX_FILTERS</a>&#160;&#160;&#160;255</td></tr>
<tr class="memdesc:ga168c522128eb0f9513b6cb01650d2931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of filter that can be specified.  <a href="group__can__group.html#ga168c522128eb0f9513b6cb01650d2931">More...</a><br /></td></tr>
<tr class="separator:ga168c522128eb0f9513b6cb01650d2931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c21cc18141f65ab5f4a399b14cf8792"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#ga6c21cc18141f65ab5f4a399b14cf8792">DW_SENSORS_CAN_MAX_ID_LEN</a>&#160;&#160;&#160;29</td></tr>
<tr class="memdesc:ga6c21cc18141f65ab5f4a399b14cf8792"><td class="mdescLeft">&#160;</td><td class="mdescRight">This module provides access to the CAN bus typically used for communication between different ECUs in a vehicle.  <a href="group__can__group.html#ga6c21cc18141f65ab5f4a399b14cf8792">More...</a><br /></td></tr>
<tr class="separator:ga6c21cc18141f65ab5f4a399b14cf8792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee5421b4c246462b185e3f972da91d3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#gaee5421b4c246462b185e3f972da91d3e">DW_SENSORS_CAN_MAX_MESSAGE_LEN</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:gaee5421b4c246462b185e3f972da91d3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximal length of the supported CAN payload [bytes].  <a href="group__can__group.html#gaee5421b4c246462b185e3f972da91d3e">More...</a><br /></td></tr>
<tr class="separator:gaee5421b4c246462b185e3f972da91d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac3370e230d39eba2e03112824fa32709"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#gac3370e230d39eba2e03112824fa32709">dwSensorCAN_popMessage</a> (<a class="el" href="group__can__group.html#structdwCANMessage">dwCANMessage</a> *msg, <a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> sensor)</td></tr>
<tr class="memdesc:gac3370e230d39eba2e03112824fa32709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns any CAN data previously processed through a RAW data stream.  <a href="group__can__group.html#gac3370e230d39eba2e03112824fa32709">More...</a><br /></td></tr>
<tr class="separator:gac3370e230d39eba2e03112824fa32709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77b37064c0a319c3daa883d930359a9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#ga77b37064c0a319c3daa883d930359a9e">dwSensorCAN_processRawData</a> (const uint8_t *data, size_t size, <a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> sensor)</td></tr>
<tr class="memdesc:ga77b37064c0a319c3daa883d930359a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes CAN data previously read as a RAW data stream into internal queue.  <a href="group__can__group.html#ga77b37064c0a319c3daa883d930359a9e">More...</a><br /></td></tr>
<tr class="separator:ga77b37064c0a319c3daa883d930359a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6d8c00535c550d544534122303cec1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#gad6d8c00535c550d544534122303cec1a">dwSensorCAN_readMessage</a> (<a class="el" href="group__can__group.html#structdwCANMessage">dwCANMessage</a> *const msg, <a class="el" href="group__core__basictypes__group.html#gac4840df46df4be80c7f427057740af65">dwTime_t</a> const timeoutUs, <a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> const sensor)</td></tr>
<tr class="memdesc:gad6d8c00535c550d544534122303cec1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a CAN packet with a given timeout from the CAN bus.  <a href="group__can__group.html#gad6d8c00535c550d544534122303cec1a">More...</a><br /></td></tr>
<tr class="separator:gad6d8c00535c550d544534122303cec1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad746719abb9bf690fec919869c5e93f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#gad746719abb9bf690fec919869c5e93f4">dwSensorCAN_sendMessage</a> (const <a class="el" href="group__can__group.html#structdwCANMessage">dwCANMessage</a> *const msg, <a class="el" href="group__core__basictypes__group.html#gac4840df46df4be80c7f427057740af65">dwTime_t</a> const timeoutUs, <a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> const sensor)</td></tr>
<tr class="memdesc:gad746719abb9bf690fec919869c5e93f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message over the CAN bus within a specified timeout.  <a href="group__can__group.html#gad746719abb9bf690fec919869c5e93f4">More...</a><br /></td></tr>
<tr class="separator:gad746719abb9bf690fec919869c5e93f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a472495baee677c10cb9da8ca207441"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#ga3a472495baee677c10cb9da8ca207441">dwSensorCAN_setMessageFilter</a> (const uint32_t *ids, const uint32_t *masks, uint16_t num, <a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> sensor)</td></tr>
<tr class="memdesc:ga3a472495baee677c10cb9da8ca207441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifes a set of CAN IDs to be filtered.  <a href="group__can__group.html#ga3a472495baee677c10cb9da8ca207441">More...</a><br /></td></tr>
<tr class="separator:ga3a472495baee677c10cb9da8ca207441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf77f392e53a7ab6bbefbbf737984f19f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__can__group.html#gaf77f392e53a7ab6bbefbbf737984f19f">dwSensorCAN_setUseHwTimestamps</a> (bool const flag, <a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> const sensor)</td></tr>
<tr class="memdesc:gaf77f392e53a7ab6bbefbbf737984f19f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables hardware timestamp of the CAN messages.  <a href="group__can__group.html#gaf77f392e53a7ab6bbefbbf737984f19f">More...</a><br /></td></tr>
<tr class="separator:gaf77f392e53a7ab6bbefbbf737984f19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structdwCANMessage" id="structdwCANMessage"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structdwCANMessage">&#9670;&nbsp;</a></span>dwCANMessage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dwCANMessage</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a7288e7ac15d0247f5ae2dd728a932e25" name="a7288e7ac15d0247f5ae2dd728a932e25"></a>uint8_t</td>
<td class="fieldname">
data[<a class="el" href="group__can__group.html#gaee5421b4c246462b185e3f972da91d3e">DW_SENSORS_CAN_MAX_MESSAGE_LEN</a>]</td>
<td class="fielddoc">
Payload. </td></tr>
<tr><td class="fieldtype">
<a id="ae51901eec5128978bcd4ca31a5739124" name="ae51901eec5128978bcd4ca31a5739124"></a>uint32_t</td>
<td class="fieldname">
id</td>
<td class="fielddoc">
CAN ID of the message sender. </td></tr>
<tr><td class="fieldtype">
<a id="adddd9433638d4ee92e194112752ecb6f" name="adddd9433638d4ee92e194112752ecb6f"></a>uint16_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
Number of bytes of the payload. </td></tr>
<tr><td class="fieldtype">
<a id="aa504eb119f0ccc161f0a6259233a71b6" name="aa504eb119f0ccc161f0a6259233a71b6"></a><a class="el" href="group__core__basictypes__group.html#gac4840df46df4be80c7f427057740af65">dwTime_t</a></td>
<td class="fieldname">
timestamp_us</td>
<td class="fielddoc">
Timestamp of the message in microseconds (using clock of the context). </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga168c522128eb0f9513b6cb01650d2931" name="ga168c522128eb0f9513b6cb01650d2931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga168c522128eb0f9513b6cb01650d2931">&#9670;&nbsp;</a></span>DW_SENSORS_CAN_MAX_FILTERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DW_SENSORS_CAN_MAX_FILTERS&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of filter that can be specified. </p>

<p class="definition">Definition at line <a class="el" href="CAN_8h_source.html#l00103">103</a> of file <a class="el" href="CAN_8h_source.html">CAN.h</a>.</p>

</div>
</div>
<a id="ga6c21cc18141f65ab5f4a399b14cf8792" name="ga6c21cc18141f65ab5f4a399b14cf8792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c21cc18141f65ab5f4a399b14cf8792">&#9670;&nbsp;</a></span>DW_SENSORS_CAN_MAX_ID_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DW_SENSORS_CAN_MAX_ID_LEN&#160;&#160;&#160;29</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This module provides access to the CAN bus typically used for communication between different ECUs in a vehicle. </p>
<p >The implementation provides an abstracted layer over any implemented sensor drivers, supporting receive, send and filtering routines.</p>
<p >CAN data packet as of ISO 11898-1: </p><div class="fragment"><div class="line">Byte:|           0           |         1             |           2           |           3           |</div>
<div class="line">Bit: |07-06-05-04-03-02-01-00|15-14-13-12-11-10-09-08|23-22-21-20-19-18-17-16|31-30-29-28-27-26-25-24|</div>
<div class="line"> </div>
<div class="line">Byte:|           4           |           5           |           6           |           7           |</div>
<div class="line">Bit: |39-38-37-36-35-34-33-32|47-46-45-44-43-42-41-40|55-54-53-52-51-50-49-48|63-62-61-60-59-58-57-56|</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Currently supported frame message format is ISO 11898-1.</dd></dl>
<h4>Testing (Linux only)</h4>
<p >If you have a real CAN device, activate it with this command: <br  />
 </p><div class="fragment"><div class="line">:&gt; sudo ip link set can0 up type can bitrate 500000</div>
</div><!-- fragment --><p >A virtual device is created using following commands: </p><div class="fragment"><div class="line">:&gt; sudo modprobe vcan</div>
<div class="line">:&gt; sudo ip link add dev vcan0 type vcan</div>
<div class="line">:&gt; sudo ip link set up vcan0</div>
</div><!-- fragment --><p> In order to send data from console to the virtual CAN bus, the cansend tool (from the can-utils package) can be used. </p><div class="fragment"><div class="line">:&gt; cansend vcan0 30B#1122334455667788</div>
</div><!-- fragment --><p> Maximal length of the supported CAN message id [bits]. </p>

<p class="definition">Definition at line <a class="el" href="CAN_8h_source.html#l00097">97</a> of file <a class="el" href="CAN_8h_source.html">CAN.h</a>.</p>

</div>
</div>
<a id="gaee5421b4c246462b185e3f972da91d3e" name="gaee5421b4c246462b185e3f972da91d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee5421b4c246462b185e3f972da91d3e">&#9670;&nbsp;</a></span>DW_SENSORS_CAN_MAX_MESSAGE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DW_SENSORS_CAN_MAX_MESSAGE_LEN&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximal length of the supported CAN payload [bytes]. </p>

<p class="definition">Definition at line <a class="el" href="CAN_8h_source.html#l00100">100</a> of file <a class="el" href="CAN_8h_source.html">CAN.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac3370e230d39eba2e03112824fa32709" name="gac3370e230d39eba2e03112824fa32709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3370e230d39eba2e03112824fa32709">&#9670;&nbsp;</a></span>dwSensorCAN_popMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a> dwSensorCAN_popMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__can__group.html#structdwCANMessage">dwCANMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a>&#160;</td>
          <td class="paramname"><em>sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns any CAN data previously processed through a RAW data stream. </p>
<p >This happens on the CPU thread where the function is called, incurring on additional load on that thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">msg</td><td>Container for the decoded message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Sensor handle of the sensor previously created with '<a class="el" href="group__sensors__common__group.html#ga4004ff15b00f6e90cfe9aa43792be801" title="Creates a new sensor managed by the SAL module with the given parameters.">dwSAL_createSensor()</a>'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DW_INVALID_HANDLE - if given sensor handle is invalid. <br  />
 DW_INVALID_ARGUMENT - if given arguments are invalid. <br  />
 DW_NOT_AVAILABLE - if no more data is available <br  />
 DW_SUCCESS </dd></dl>

</div>
</div>
<a id="ga77b37064c0a319c3daa883d930359a9e" name="ga77b37064c0a319c3daa883d930359a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77b37064c0a319c3daa883d930359a9e">&#9670;&nbsp;</a></span>dwSensorCAN_processRawData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a> dwSensorCAN_processRawData </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a>&#160;</td>
          <td class="paramname"><em>sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes CAN data previously read as a RAW data stream into internal queue. </p>
<p >Any processed messages can be picked up using the <a class="el" href="group__can__group.html#gac3370e230d39eba2e03112824fa32709" title="Returns any CAN data previously processed through a RAW data stream.">dwSensorCAN_popMessage()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Undecoded CAN data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size in bytes of the raw data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Sensor handle of the sensor previously created with '<a class="el" href="group__sensors__common__group.html#ga4004ff15b00f6e90cfe9aa43792be801" title="Creates a new sensor managed by the SAL module with the given parameters.">dwSAL_createSensor()</a>'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DW_INVALID_HANDLE - if given sensor handle is invalid. <br  />
 DW_INVALID_ARGUMENT - if given arguments are invalid. <br  />
 DW_FAILURE - if given raw stream data is not valid <br  />
 DW_NOT_READY - if given raw stream did not have any data at all <br  />
 DW_SUCCESS</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__group.html#gac3370e230d39eba2e03112824fa32709" title="Returns any CAN data previously processed through a RAW data stream.">dwSensorCAN_popMessage()</a> </dd></dl>

</div>
</div>
<a id="gad6d8c00535c550d544534122303cec1a" name="gad6d8c00535c550d544534122303cec1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6d8c00535c550d544534122303cec1a">&#9670;&nbsp;</a></span>dwSensorCAN_readMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a> dwSensorCAN_readMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__can__group.html#structdwCANMessage">dwCANMessage</a> *const&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__core__basictypes__group.html#gac4840df46df4be80c7f427057740af65">dwTime_t</a> const&#160;</td>
          <td class="paramname"><em>timeoutUs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> const&#160;</td>
          <td class="paramname"><em>sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a CAN packet with a given timeout from the CAN bus. </p>
<p >The method blocks until either a new valid message is received on the bus or the given timeout exceeds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">msg</td><td>A pointer to a CAN message structure to be filled with new data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeoutUs</td><td>Specifies a timeout, in us, to wait for a new message. Special values: DW_TIMEOUT_INFINITE - to wait infinitly. Zero - means polling of internal queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Specifies a sensor handle of the CAN sensor previously created with '<a class="el" href="group__sensors__common__group.html#ga4004ff15b00f6e90cfe9aa43792be801" title="Creates a new sensor managed by the SAL module with the given parameters.">dwSAL_createSensor()</a>'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DW_INVALID_HANDLE - if given sensor handle is invalid. <br  />
 DW_INVALID_ARGUMENT - if given arguments are invalid. <br  />
 DW_TIME_OUT - if operation has timeout. <br  />
 DW_NOT_AVAILABLE - if sensor has not been started or data is not available in polling mode. <br  />
 DW_SAL_SENSOR_ERROR - if there was an i/o or bus error. <br  />
 DW_SUCCESS </dd></dl>

</div>
</div>
<a id="gad746719abb9bf690fec919869c5e93f4" name="gad746719abb9bf690fec919869c5e93f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad746719abb9bf690fec919869c5e93f4">&#9670;&nbsp;</a></span>dwSensorCAN_sendMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a> dwSensorCAN_sendMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__can__group.html#structdwCANMessage">dwCANMessage</a> *const&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__core__basictypes__group.html#gac4840df46df4be80c7f427057740af65">dwTime_t</a> const&#160;</td>
          <td class="paramname"><em>timeoutUs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> const&#160;</td>
          <td class="paramname"><em>sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message over the CAN bus within a specified timeout. </p>
<p >A message is guaranteed to have been sent when this method returns 'DW_SUCCESS'. The method can block for up-to the specified amount of time if a bus is blocked or previous </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__can__group.html#gad6d8c00535c550d544534122303cec1a" title="Reads a CAN packet with a given timeout from the CAN bus.">dwSensorCAN_readMessage()</a> operation has not yet finished.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>A pointer to the message to be sent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeoutUs</td><td>Specifies the timeout, in microseconds, to wait at most before giving up. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Specifies a CAN bus sensor to send the message over.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DW_NOT_SUPPORTED - if the underlying sensor does not support send operation. <br  />
 DW_INVALID_HANDLE - if given sensor handle is invalid. <br  />
 DW_INVALID_ARGUMENT - if given arguments are invalid. <br  />
 DW_TIME_OUT - if operation has timed out. <br  />
 DW_SAL_SENSOR_ERROR - if there was an i/o or bus error. <br  />
 DW_NOT_AVAILABLE - if sensor has not been started. <br  />
 DW_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Send operation using can.virtual is a no-op and returns always DW_SUCCESS </dd></dl>

</div>
</div>
<a id="ga3a472495baee677c10cb9da8ca207441" name="ga3a472495baee677c10cb9da8ca207441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a472495baee677c10cb9da8ca207441">&#9670;&nbsp;</a></span>dwSensorCAN_setMessageFilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a> dwSensorCAN_setMessageFilter </td>
          <td>(</td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>masks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a>&#160;</td>
          <td class="paramname"><em>sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifes a set of CAN IDs to be filtered. </p>
<p >The filter is active if it contains at least one sender ID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ids</td><td>A pointer to an array of CAN IDs to be filtered. Any matching CAN ID is used together with the mask to filter. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">masks</td><td>A pointer to an array of filter masks to be applied. A mask is applied together with the ID as 'id &amp; mask'. If mask is set to NULL, a default mask of '1FFFFFFF' is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Specifies the number of elements passed in the array. To remove the filter, pass 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Specifies the sensor handle of the CAN sensor previously created with '<a class="el" href="group__sensors__common__group.html#ga4004ff15b00f6e90cfe9aa43792be801" title="Creates a new sensor managed by the SAL module with the given parameters.">dwSAL_createSensor()</a>'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DW_NOT_SUPPORTED - if the underlying sensor does not support filter operation. <br  />
 DW_INVALID_HANDLE - if given sensor handle is invalid. <br  />
 DW_INVALID_ARGUMENT - if given arguments are invalid. <br  />
 DW_SAL_SENSOR_ERROR - if there was a sensor error, i.e., filter cannot be set. <br  />
 DW_SUCCESS</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Some CAN implementations, such as AurixCAN, only support a few messages for a filter. </dd>
<dd>
The effect takes place on the next (re)start of the sensor. </dd>
<dd>
The general implementation is to pass a message if 'received_can_id &amp; mask == can_id &amp; mask'. If multiple filters are provided, a message is passed if at least one of the filters match. </dd></dl>

</div>
</div>
<a id="gaf77f392e53a7ab6bbefbbf737984f19f" name="gaf77f392e53a7ab6bbefbbf737984f19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf77f392e53a7ab6bbefbbf737984f19f">&#9670;&nbsp;</a></span>dwSensorCAN_setUseHwTimestamps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__core__exports__group.html#ga9260044664f799f45459a7283a7c312d">DW_API_PUBLIC</a> <a class="el" href="group__core__status__group.html#ga01e41060986cf4c0d618a8923846619b">dwStatus</a> dwSensorCAN_setUseHwTimestamps </td>
          <td>(</td>
          <td class="paramtype">bool const&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sensors__common__group.html#gadc6a1730acf17825ffa9620434b5959a">dwSensorHandle_t</a> const&#160;</td>
          <td class="paramname"><em>sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables hardware timestamp of the CAN messages. </p>
<p >Hardware timestamps are used per default when supported by the sensor. If HW timestamps are not supported, SW timestamps are used per default. HW timestamps can be turned off if the default behavior is not working properly with the current hardware stack.</p>
<dl class="section note"><dt>Note</dt><dd>The effect takes place on the next (re)start of the sensor.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flag</td><td>Specifies either 'true' or 'false' to enable or disable hardware timestamping. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Specifies the sensor handle of the CAN sensor previously created with '<a class="el" href="group__sensors__common__group.html#ga4004ff15b00f6e90cfe9aa43792be801" title="Creates a new sensor managed by the SAL module with the given parameters.">dwSAL_createSensor()</a>'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>If the same physical CAN device/interface is shared by multiple sensors, setting HW timestamping affects timestamping of all sensors sharing the same device.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If using AurixCAN as a driver, hardware timestamps are used as timestamped by Aurix.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>DW_NOT_SUPPORTED - if the underlying sensor does not support hardware timestamps. <br  />
 DW_INVALID_HANDLE - if given sensor handle is invalid <br  />
 DW_INVALID_ARGUMENT - if given arguments are invalid <br  />
 DW_SUCCESS </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Prepared and Provided under NDA | Generated by NVIDIA |
        PR-08397-V5.0
      </li>
     </ul>
  </div>
</body>
</html>
